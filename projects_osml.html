<html><!-- InstanceBegin template="/Templates/OS.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<!-- InstanceBeginEditable name="doctitle" -->
<title>OSmL (modeling)</title>
<!-- InstanceEndEditable -->
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

  <link rel="icon" href="images/os1.ico">
  <link rel="SHORTCUT ICON" href="images/os1.ico">
  <link rel="stylesheet" href="css/os_styles.css" type="text/css">
  <link rel="stylesheet" href="css/ddmenu.css" type="text/css">

  <script type="text/javascript" src="js/ddmenu.js"></script>
  <!-- InstanceBeginEditable name="head" -->
  <style type="text/css">
<!--
.style3 {
	color: #000066;
	font-size: larger;
	font-weight: bold;
}
.style4 {font-size: x-small}
-->
  </style>
  <!-- InstanceEndEditable -->
  <style type="text/css">
<!--
.style2 {font-size: larger}
.style3 {
	color: #666666;
	font-weight: bold;
}
-->
  </style>
</head>

<body bgcolor="#FFFFFF" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<!-- start header table -->
<table width="847" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="1"><img src="images/spacer.gif" width="1" height="1" alt=""></td>
<td width="201"><img src="images/spacer.gif" width="175" height="1" alt=""></td>
<td width="634"><img src="images/spacer.gif" width="599" height="1" alt=""></td>
<td width="1"><img src="images/spacer.gif" width="1" height="1" alt=""></td>
<td width="10"><img src="images/spacer.gif" width="1" height="1" alt=""></td>
</tr>
<tr>
<td rowspan="4" bgcolor="#666666"><img src="images/spacer.gif" width="1" height="56" alt=""></td>
<td colspan="2" bgcolor="#666666"><img src="images/spacer.gif" width="774" height="2" alt=""></td>
<td rowspan="4" bgcolor="#666666"><img src="images/spacer.gif" width="1" height="56" alt=""></td>
<td><img src="images/spacer.gif" width="1" height="2" alt=""></td>
</tr>
<tr>
<td rowspan="2"><a href="welcome.html"><img src="images/os1.jpg" width="115" height="87" alt="Optimization Services" border="0"></a></td>
<td><div align="right">
  <p align="center" class="nava style2">&nbsp;</p>
  <table width="600" border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td width="1"><div align="center"></div></td>
      <td width="80"><div align="center"><a href="http://projects.coin-or.org/OS/register"><strong>Register</strong></a></div></td>
      <td width="61"><div align="center"><a href="http://projects.coin-or.org/OS/login"><strong>Login</strong></a></div></td>
      <td width="90"><div align="center"><a href="os_download.html"><strong>Download</strong></a></div></td>
      <td width="68"><div align="center"><a href="os_license.html"><strong>License</strong></a></div></td>
      <td width="150"><div align="center"><a href="http://groups.google.com/group/optimizationservices"><strong>OS Newsgroup  (hosted @ Google) </strong></a></div></td>
      <!--td width="73"><div align="center"><a href="../login.html"><strong>Login</strong></a></div></td-->
      <td width="150"><div align="center" class="style3"><a href="http://projects.coin-or.org/OS">OS  Developer Site (hosted @ COIN-OR)</a></div></td>
    </tr>
  </table>
  </div></td>
</tr>
<tr>

<td class="nav" valign="middle">
    <!-- begin main menu bar -->
    <ul class="ddmenu">
	  <li><a href="os_overview.html">OVERVIEW</a> 
        <ul>
        	<li><a href="optimizationservices.html">Optimization Services (OS)</a></li>
			<li><a href="optimizationservicesprotocol.html">Optimization Services Protocol (OSP)</a></li>
			<li><a href="os_motivation.html">The OS Motivation</a></li>
			<li><a href="os_components.html">The OS Components</a></li>
			<li><a href="os_process.html">The OS Process</a></li>
			<li><a href="os_customers.html">The OS Customers</a></li>
			<li><a href="distributedComputingBackground.html">Distributed Computing Background</a></li>
            <li><a href="http://projects.coin-or.org/OS/search">Search @ OS Developer Site</a></li>
        </ul>
      </li>
      <li>|</li>
	  <li><a href="standard_overview.html">STANDARDS</a> 
        <ul>
        	<li><a href="standard_overview.html">Overview</a></li>
        	<li><a href="OSiL.html">OSiL (instance)</a></li>
        	<li><a href="OSiL_SE.html">--OSiL/SE (Stochastic Ext.)</a></li>
        	<li><a href="OSrL.html">OSrL (result)</a></li>
        	<li><a href="OSoL.html">OSoL (option)</a></li>
        	<li><a href="OSaL.html">OSaL (analysis)</a></li>
        	<li><a href="OSeL.html">OSeL (entity)</a></li>
        	<li><a href="OSpL.html">OSpL (process)</a></li>
        	<li><a href="OSbL.html">OSbL (benchmark)</a></li>
        	<li><a href="OSqL.html">OSqL (query)</a></li>
        	<li><a href="OSuL.html">OSuL (uri/url)</a></li>
        	<li><a href="OSsL.html">OSsL (simulation)</a></li>
        	<li><a href="OShL.html">OShL (hook up)</a></li>
        	<li><a href="OSdL.html">OSdL (discover)</a></li>
        	<li><a href="OScL.html">OScL (call simulation)</a></li>
        	<li><a href="OSgL.html">OSgL (general)</a></li>
        	<li><a href="OSnL.html">OSnL (nonlinear)</a></li>
        	<li><a href="OSlL.html">OSlL (linear) == LPFML</a></li>
        	<li><a href="OSRepository.html">OSRepository.xsd</a></li>
        	<li><a href="OSRegistry.html">OSRegistry.xsd</a></li>

        </ul>
      </li>
	  <li>|</li>
      <li><a href="projects_overview.html">PROJECTS</a>
        <ul>
          <li><a href="projects_overview.html">Overview</a></li>
        	<li><a href="projects_impact.html">IMPACT Solver/Service</a></li>
        	<li><a href="projects_osml.html">OSmL - OS Modeling</a></li>
        	<li><a href="projects_osrepository.html">OS Repository</a></li>
        	<li><a href="projects_gui.html">OS GUI</a></li>
        	<li><a href="projects_binary.html">OS Binary</a></li>
        	<li><a href="projects_interface.html">OS Interface & OSI2</a></li>
        	<li><a href="os_neos.html">OS and NEOS</a></li>
        </ul>
      </li>
      <li>|</li>
      <li><a href="services_overview.html">SERVICES</a>
        <ul>
          <li><a href="services_overview.html">Overview</a></li>
          <li><a href="services_osregistry.html">OS Registry Service</a></li>
          <li><a href="services_hosting.html">Service Hosting</a></li>
          <li><a href="os_neos.html">OS and NEOS</a></li>
          <li><a href="services_support.html">Support</a></li>
          <li><a href="http://projects.coin-or.org/OS/search">Search @ OS Developer Site</a></li>
        </ul>
      </li>
	  <li>|</li>
      <li><a href="publications_overview.html">PUBLICATIONS</a> 
        <ul>
          <li><a href="publications_overview.html">Overview</a></li>
          <li><a href="publications_research.html">Researches</a></li>
          <li><a href="publications_conferences.html">Conferences</a></li>
          <li><a href="publications_papers.html">Papers</a></li>
          <li><a href="publications_presentations.html">Presentations</a></li>
          <li><a href="publications_api.html">APIs</a></li>
          <li><a href="publications_faq.html">FAQs</a></li>
          <li><a href="os_related.html">Related Sites</a></li>
          <li><a href="os_related_research.html">Related Research</a></li>
        </ul>
      </li>
      <li>|</li>
      <li><a href="os_about.html">ABOUT</a> 
        <ul>



	      <li><a href="index.html">Home</a></li>
          <li><a href="os_about.html">About Us</a></li>
		  <li><a href="os_contact.html">Contact Us</a></li>		  
          <li><a href="os_related.html">Related Sites</a></li>
          <li><a href="os_related_research.html">Related Research</a></li>
          <li><a href="http://projects.coin-or.org/OS/search">Search @ OS Developer Site</a></li>
        </ul>
      </li>
    </ul>
    <!-- end main menu bar --></td>


</tr>
<tr>
<td colspan="2" bgcolor="#666666"><img src="images/spacer.gif" width="774" height="1" alt=""></td>
<td><img src="images/spacer.gif" width="1" height="1" alt=""></td>
</tr>
</table>
<!-- end header table -->

<!-- start body table -->
<table width="837" border="0" cellpadding="0" cellspacing="0">
<tr>
<td colspan="5" bgcolor="#6F5D51"><img src="images/spacer.gif" width="776" height="10" alt=""></td>
</tr>
<tr>
<td colspan="5" bgcolor="#666666"><img src="images/spacer.gif" width="776" height="1" alt=""></td>
</tr>
<tr>
<!-- start column one -->
<td width="177" valign="top"><p><!--img src="../images/searstower.jpg" width="194" height="251" alt="" border="0"-->
    <!-- InstanceBeginEditable name="QuickLinks" -->
    <div class="subnava">
      <p> <a href="projects_overview.html">Overview </a></p>
    </div>
    <div class="subnavsep"></div>
      <div class="subnava">
        <p><a href="projects_impact.html">IMPACT Solver/Service </a></p>
      </div>
      <div class="subnavsep"></div>
      <div class="subnava">
        <p><a href="projects_osml.html">OSmL Modeling </a></p>
      </div>
      <div class="subnavsep"></div>
      <div class="subnava">
        <p><a href="projects_osrepository.html">OS Repository </a></p>
      </div>
      <div class="subnavsep"></div>
      <div class="subnava">
        <p><a href="projects_gui.html">OS GUI</a></p>
      </div>
      <div class="subnavsep"></div>
      <div class="subnava">
        <p><a href="projects_binary.html">OS Binary </a></p>
      </div>
      <div class="subnavsep"></div>
      <div class="subnava">
        <p><a href="projects_interface.html">OS Interface </a></p>
      </div>
      <div class="subnavsep"></div>
      <div class="subnava">
        <p><a href="os_neos.html">OS and NEOS </a></p>
      </div>
      <br>
    <!-- InstanceEndEditable --></p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p></td>
<!-- end column one -->
<td width="1" bgcolor="#666666"><img src="images/spacer.gif" width="1" height="1" alt=""></td>
<td width="23"><img src="images/spacer.gif" width="23" height="400" alt=""></td>
<!-- start column two -->
<td width="450" valign="top" class="bodytxt"><!-- InstanceBeginEditable name="MainBody" -->
  <p class="bodyhdr"><b>Optimization Services modeling Language (OSmL) </b></p>
  <p class="bodyhdr">OSmL is still under research and only prototypes are being built to show proof-of-concept. </p>
  <p><a name="OSmLIntroduction"></a>OSmL is among the many derived  researches  from the Optimization Services project. OSmL is a  computer modeling language for mathematical optimization. This language allows  mathematical model developers to formulate complex and large-scale optimization  problems in a concise and efficient way. OSmL is based upon the W3C XQuery  standard and is designed to convert raw data in XML format into problem  instances that conform to the Optimization Services instance Language (OSiL)  standard. An optimization instance represented in OSiL can be solved with any standard  solver that is Optimization Services compatible. Thus, OSmL is particularly  well suited for optimization over distributed systems. </p>
  <p>Notice  that OSmL itself is <em>not</em> an XML  dialect, but rather a customized implementation of XQuery. XQuery provides a  concise query language and is designed to quickly and efficiently extract  chunks of data &ndash; much like SQL for relational databases. Unlike other OSxL  languages, OSmL is <em>not</em> a low-level  instance language. OSmL is a high-level user friendly <em>modeling</em> language. An advantage of the OSmL approach is that people  can easily share and reuse OSmL models regardless of computing platform. All of  the required software is open source and available on all major platforms.</p>
  <p>&nbsp;</p>
  <p class="style3"><a name="OSmLMotivation" id="OSmLMotivation"></a>Motivation</p>
  <p>XML  is popular and powerful and is rapidly becoming an  accepted format for transferring and storing data. Currently almost all  databases and spreadsheets are xml-enabled. This means that even if the stored  data are not in native XML form, they can at least be exported in XML formats.  The XML output can then be retrieved with XQuery. One might argue that mathematical  modeling is also about data. Indeed, a mathematical programming modeling  language, and associated solver tools, will not be used unless they are closely  integrated with corporate data. The creation of the OSmL modeling  language is motivated by two factors. First is the ubiquity of XML and the  existence of tools to easily transform the non-XML data into an XML format.  Second is the availability of many powerful open source platform independent  tools for taking XML data stored in one format and transforming it into another  XML format. <strong> </strong></p>
  <p><span class="style3"><a name="fourParadigms"></a>Four Paradigms of Combining XML with Optimization</span></p>
  <p>It is  common practice to store data in a relational database system. Two aspects of  commercial relational database systems are 1) the data are stored in multiple  tables or relations, and 2) the files containing the data are typically binary  files. XML data is 1) stored using a tree structure, and 2) stored as a text  file containing both tags and the data.<br>
There  are four paradigms to incorporating XML into mathematical modeling of  optimization problems: </p>
  <ol start="1" type="1">
    <li>Use XML to represent an       optimization instance; this is what Optimization Services is all about. </li>
    <li>Develop an XML modeling language       dialect; this is what Optimization Services avoids. </li>
    <li>Enhance modeling languages with       XML features such as XPath; this is a recommendation from Optimization       Services to enable existing modeling languages to access XML data. </li>
    <li>Use XML technologies to       transform XML data into a problem instance; this is the approach       taken by OSmL, which is a derived research of Optimization Services.</li>
  </ol>
  <p>The OSmL approach is to take as input the XML files  that contain the problem instance <em>data</em> and then transform the input data files into a standard OSiL instance output.  OSmL leverages on XQuery for the data transformation. XQuery provides powerful  algebraic modeling features, e.g. sets, loops, if-then, union, intersection,  and library modules. These are accepted W3C standards and are what makes the  OSmL modeling language symbolic, general, concise and understandable. </p>
  <p>    We have been emphasizing the fact that OSmL is  XQuery based, but OSmL is a bit more than an XQuery language. OSmL has extra  pre-built constructs tailored for optimization problems. For example, the relational  operators &ldquo;&lt;&rdquo;, &ldquo;&lt;=&rdquo;, &ldquo;&gt;&rdquo; and &ldquo;&gt;=&rdquo; are represented in XQuery as &ldquo;&amp;gt;&rdquo;, &ldquo;&amp;gt;=&rdquo;, &ldquo;&amp;lt;&rdquo; and &ldquo;&amp;lt;=&rdquo; to avoid conflicts with the XML tags (&lt; &gt;). As the relational operators appear very often in  optimization, OSmL allows users to use &ldquo;&lt;&rdquo;, &ldquo;&lt;=&rdquo;, &ldquo;&gt;&rdquo; and &ldquo;&gt;=&rdquo; directly and it has a &ldquo;preprocessor&rdquo; to detect these operators and  convert them to the XQuery language specification. Also OSmL adds some macros  such as the &ldquo;SUM&rdquo; function, as again these macros  provide extra convenience for mathematical modeling. The OSmL preprocessor  expands these macros to XQuery equivalents. </p>
  <p>A modeler can still directly use  the standard XQuery representations to construct an optimization model without  the OSmL macros. In this situation, OSmL is a pure XQuery language. </p>
  <p>A pure XQuery  (original or preprocessed) is sent to an XQuery processor and compiled into an  intermediate XML instance. The immediate instance is converted into the OSiL  instance and sent out to an Optimization Service using a standard OS  communication agent. </p>
  <p><a href="images/OSmLProcess.jpg"><img src="images/OSmLProcess.jpg" alt="OSmLProcess" width="540" height="257" border="0"></a></p>
  <p>Numerous auxiliary software packages are available  that implement XQuery and XPath. There are two major camps: Microsoft .NET and  Java. The most recent release of the Microsoft development tool, Visual Studio  .NET, contains numerous classes for manipulating and  transforming XML data. These classes are available to all of the .NET  languages. Indeed, a major advantage of using .NET software is that Microsoft  has done such an excellent job of integrating XML into Visual Studio .NET. The  downside of .NET is that .NET software runs on the Windows platform (although  Ximian has announced the launch of the Mono project to create an open source implementation of the .Net  development framework). However, the actual XQuery files are platform  independent. There is no problem with sharing model files among users of  different platforms.</p>
  <p>A number of Java open source XQuery and XPath tools  are also available. There is Saxon (for XQuery and XPath) written by Michael  Kay and Xalan (for XSLT, a C++ version is also available) by the Apache  organization. Both Saxon and Xalan can be used from the command  line or called from a Java Servlet or a standalone Java program. Both Xalan and  Saxon implement the Java API for XML Processing (JAXP). This makes it very  convenient to write portable software that can call either Saxon or Xalan to  transform XML. There is also XML Spy from Altova and Stylus Studio from Progress Software, which are a proprietary XML development environments.  Both are equipped with some very nice graphical tools for constructing  XML-related files. </p>
  <h2><a name="OSmLFeatures"></a><a>OSmL Features and Examples</a></h2>
  <p><u>The multiproduct dynamic lot sizing example</u></p>
  <p>We illustrate OSmL features with a  multiproduct dynamic lot sizing model. We assume that the input data for the model is in a single  XML file. This assumption is not necessary; it is made only for ease of  exposition. Assume there are two products with a four period planning horizon and  that inventory holding cost, marginal production cost, and fixed production  cost depend on product but not time period. The model and the corresponding XML data are illustrated in the following two figures. </p>
  <p><a href="images/multiproductDynamicLotSizingModel.jpg"><img src="images/multiproductDynamicLotSizingModel.jpg" alt="multiproductDynamicLotSizingModel" width="601" height="339" border="0"></a></p>
  <p><a href="images/multiproductDynamicLotSizingXMLData.jpg"><img src="images/multiproductDynamicLotSizingXMLData.jpg" alt="multiproductDynamicLotSizingXMLData" width="284" height="395" border="0"></a> </p>
  <p>The costs (fixedCost, holdCost, prodCost) are depends  on only productID<strong>. </strong>The demand data are functionally dependent on productID<strong> </strong>and periodID<strong>. </strong>The capacity data are functionally dependent on only periodID<strong>. </strong>The following figiure is a graphical illustration of the dynamic log sizing data. The two highlighted circles indicate the product set. </p>
  <p><a href="images/multiproductDynamicLotSizingXMLGraph.jpg"><img src="images/multiproductDynamicLotSizingXMLGraph.jpg" alt="multiproductDynamicLotSizingXMLGraph" width="492" height="365" border="0"></a></p>
  <p><u>Sets, indices and data</u></p>
  <p>The first step in building an  algebraic model using a modeling language is to identify the primitive sets. The primitive sets often correspond to the indices on the  decision variables. In the relational database world these are often attributes  that correspond to keys in a relation. Algebraic modeling languages have  commands to create sets. Sets may be either primitive or derived sets through  such operations as Cartesian product or set union. In the above dynamic lot sizing  example, primitive sets correspond to products and time  periods. A derived set is the Cartesian product of the product and time period  sets.&nbsp; Here is an example of set  declarations in LINGO: </p>
  <p class="style4">SETS:<br>
    product  /1, 2/;<br>
    period  /1..4/;<br>
    demand(product,  period);<br>
    ENDSETS</p>
  <p>The analogous concept in the XML world is the XPath  node-set. Node sets corresponding to product, period, and demand are: </p>
  <p class="style4">/lotSizeData/product<br>
/lotSizeData/periodCapacity/capacity[@periodID]<br>
/lotSizeData/product/period/demand</p>
  <p>In an algebraic modeling language, once the sets  are identified, parameters and variables are associated with the sets and  referenced by indices. For example, considering only parameters, in the lot  sizing example we have in LINGO: </p>
  <p class="style4">SETS:<br>
product  /1, 2/: holdCost, prodCost, fixedCost;<br>
period  /1..4/: capacity;<br>
prodperiod(product,  period): demand;<br>
ENDSETS</p>
  <p>For example, holdCost(1) is the  holding cost of the first product. The holding cost node-set is referenced in  XPath by: </p>
  <p class="style4">/lotSizeData/product/@holdCost</p>
  <p>The position() function in XPath is then used as an index. For example,  the holding cost of the first product is: </p>
  <p class="style4">/lotSizeData/product[position()=1]/@holdCost</p>
  <p>or, if we define $product =  /lotSizeData/product, we can write: </p>
  <span class="style4">$product[position()=1]/@holdCost  </span>
  <p>Similarly, the demand for product 2 in periods 3 and 4 is given by: </p>
  <p class="style4">/lotSizeData/product[position()=2]/period[position()&gt;2]/demand</p>
  <p>or, in terms of $product, we can  write: </p>
  <p class="style4">$product[position()=2]/period[position()&gt;2]/demand</p>
  <p>One advantage of nesting time period nodes within  product nodes in the lot size XML data over a more traditional tabular approach is that we  can use the position function to easily index both the product and time periods.  An important aspect of this approach is that we are using the input XML for  data only; the input files do not contain any information about constraints or  variables. The input XML files need only contain all of the model sets and parameters  (or sufficient information to generate them). </p>
  <p><u>OSmL examples and comparison with other modeling languages</u></p>
  <p>The following figure  shows the dynamic lot sizing model in AMPL. AMPL currently does not have built in  support to retrieve the dynamic lot sizing XML data shown above, so the model is non-working. It is shown here for  illustration and comparison with the OSmL language. <strong></strong></p>
  <p class="style4"><a href="images/lotsizeInAMPL.gif"><img src="images/lotsizeInAMPL.gif" alt="lotsizeInAMPL" width="552" height="492" border="0"></a></p>
  <p>The following figure   shows the dynamic lot sizing model in OSmL and how it  retrieves the XML data. It is a working model. </p>
  <p class="style4"><a href="images/lotsizeInOSmL.gif"><img src="images/lotsizeInOSmL.gif" alt="lotsizeInOSmL" width="540" height="606" border="0"></a></p>
  <p>The following table   gives a side-by side comparison between AMPL and OSmL  on different constructs. <strong></strong></p>
  <table border="1" cellspacing="0" cellpadding="0">
    <tr>
      <td width="79" valign="top"><p align="center" class="style4"><strong>&nbsp;</strong></p></td>
      <td width="180" valign="top"><p align="center" class="style4"><strong>AMPL (no    data retrieval)</strong></p></td>
      <td width="348" valign="top"><p align="center" class="style4"><strong>OSmL (and    XML data retrieval)</strong></p></td>
    </tr>
    <tr>
      <td width="79" valign="top"><p class="style4"><strong>Sets and parameters, </strong></p></td>
      <td width="180" valign="top"><p class="style4">param <strong>T</strong>;<br>
        set <strong>PROD</strong>;<br>
        set <strong>LINKS</strong> = {PROD, 1..T};<br>
        param <strong>HC</strong> {PROD} ;<br>
        param <strong>FXC</strong> {PROD} ;<br>
        param <strong>CAP</strong> {1..T} ;<br>
        param <strong>DEM</strong> {LINKS};<br>
        param <strong>PCOST</strong> {PROD, 1..T} ;</p></td>
      <td width="348" valign="top"><p class="style4">let $capacity :=    doc(&quot;lotsizedata.xml&quot;)/lotSizeData/periodCapacity/capacity<br>
        let $<strong>T</strong> := count($capacity)<br>
        let $products :=    doc(&quot;lotsizedata.xml&quot;)/lotSizeData/product [ (1, 2)]<br>
        let $N := count($products)<br>
        let $<strong>PROD</strong> := (1 to $N)<br>
        let $<strong>HC</strong> := $products/@holdCost<br>
        let $<strong>FXC</strong> := $products/@fixedCost<br>
        let $<strong>CAP</strong> := $capacity/text()<br>
        let $<strong>DEM</strong> :=    $products/period/demand<br>
        let $<strong>PCOST</strong> :=    data($products/@prodCost)</p></td>
    </tr>
    <tr>
      <td width="79" valign="top"><p class="style4"><strong>Variables</strong></p></td>
      <td width="180" valign="top"><p class="style4">var <strong>x</strong>&nbsp; {PROD, 1..T} &gt;= 0;<br>
        var <strong>I</strong>&nbsp; {PROD, 0..T} &gt;=0;<br>
        var <strong>y</strong>&nbsp; {PROD, 1..T}binary;</p></td>
      <td width="348" valign="top"><p class="style4">&lt;variables&gt;{for $i in    (1 to $N),&nbsp; $t in (1 to $T) return<br>
        &nbsp; (&lt;var name=&quot;<strong>X</strong>[{$i},{$t}]&quot;/&gt;,<br>
        &nbsp; &lt;var name=&quot;<strong>I</strong>[{$i},{$t}]&quot;/&gt;,<br>
        &nbsp; &lt;var name=&quot;<strong>Y</strong>[{$i},{$t}]&quot;    type=&quot;B&quot;&nbsp; /&gt;) }<br>
        &lt;/variables&gt;</p></td>
    </tr>
    <tr>
      <td width="79" valign="top"><p class="style4"><strong>Objective</strong></p></td>
      <td width="180" valign="top"><p class="style4">minimize Total_Cost:<br>
              <strong>sum {i in PROD} I[i, 0]&nbsp; +&nbsp; </strong><br>
              <strong>sum {i in PROD, t in 1..T} (PCOST[i, t]*x[i, t] + </strong><br>
              <strong>HC[i]*I[i, t] + </strong><br>
              <strong>FXC[i]*y[i, t]);</strong> </p></td>
      <td width="348" valign="top"><p class="style4">&lt;obj    maxOrMin=&quot;min&quot; name=&quot;Total_Cost&quot;&gt;<br>
              <strong>SUM(for $i in (1 to $N), $t in (1 to $T) return</strong><br>
              <strong>{$PCOST[$i]}*X[{$i},{$t}] + </strong><br>
              <strong>{$FXC[$i]}*Y[{$i},{$t}] + </strong><br>
              <strong>{$HC[$i]}*I[{$i},{$t}])</strong><br>
        &lt;/obj&gt;</p></td>
    </tr>
    <tr>
      <td width="79" valign="top"><p class="style4"><strong>Initial inventory constraints</strong></p></td>
      <td width="180" valign="top"><p class="style4">subject to Init_Inv {i in    PROD}:<br>
              <strong>&nbsp;&nbsp;&nbsp; I[i, 0] =    0.0;</strong></p></td>
      <td width="348" valign="top"><p class="style4">{ for $i in $PROD return<br>
        &lt;con    name=&quot;inventory[{$i}]&quot;&gt; <strong>I[{$i},0]&nbsp; = 0&nbsp; </strong>&lt;/con&gt;}</p></td>
    </tr>
    <tr>
      <td width="79" valign="top"><p class="style4"><strong>demand constraints (or balance constraints)</strong></p></td>
      <td width="180" valign="top"><p class="style4">subject to Demand {i in    PROD, t in 1..T}:<br>
              <strong>x[i, t] +    I[i, t - 1] - I[i, t] = </strong><br>
              <strong>DEM[i, t];</strong></p></td>
      <td width="348" valign="top"><p class="style4">{for $i in $PROD,&nbsp; $t in (1 to $T)<br>
        let $demand := ($products[$i]/period[@periodID=$t]/demand/text()) <br>
        return&nbsp; &lt;con name=&quot;demand[{$i},{$t    }]&quot;&gt;<br>
        <strong>X[{$i},{$t}] + I[{$i},{$t - 1}] - I[{$i},{$t}] =    {$demand}</strong> &lt;/con&gt;}</p></td>
    </tr>
    <tr>
      <td width="79" valign="top"><p class="style4"><strong>Fixed charge constraints</strong></p></td>
      <td width="180" valign="top"><p class="style4">subject to Fixed_Charge <br>
        {i in PROD, t in 1..T}:<br>
        &nbsp;&nbsp;&nbsp; <strong>x[i, t]    &lt;= CAP[ t]*y[i, t]</strong>;</p></td>
      <td width="348" valign="top"><p class="style4">{for $t in (1 to $T),&nbsp; $i in (1 to $N)&nbsp;&nbsp;&nbsp; return<br>
        &lt;con    name=&quot;Fixed_charge[{$i},{$t }]&quot;&gt; <br>
        <strong>X[{$i},{$t}] &lt;= {$CAP[$t]}*Y[{$i},{$t}]</strong> &lt;/con&gt;}</p></td>
    </tr>
    <tr>
      <td width="79" valign="top"><p class="style4"><strong>Capacity constraints</strong></p></td>
      <td width="180" valign="top"><p class="style4">subject to Capacity {t in    1..T}:<br>
        &nbsp;&nbsp; sum {i in PROD} <br>
        <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x[i, t] &lt;= CAP[ t]</strong>;</p></td>
      <td width="348" valign="top"><p class="style4">{for $t in (1 to $T) return<br>
        &lt;con    name=&quot;capacity[{$t}]&quot;&gt;&nbsp;    SUM(for $i in (1 to $N) return<br>
        <strong>X[{$i},{$t}]) &lt;= {$CAP[$t]</strong>} &lt;/con&gt;}</p></td>
    </tr>
  </table>
  <p>The basic  &ldquo;set&rdquo; in the XQuery-based OSmL language is an ordered sequence. All &ldquo;XQuery  variables&rdquo; begin with a &ldquo;$&rdquo; sign. An XQuery engine evaluates what is in { }. Decision  variables are declared in &lt;variables&gt; ... &lt;/variables&gt;. OSmL, however, does not require  declaring variables; any variable not declared assumes certain default features  (e.g. type=&rdquo;C&rdquo;,  lb=&rdquo;0&rdquo;). An objective  function is constructed in &lt;obj&gt; ... &lt;/obj&gt; and each constraint is added in &lt;con&gt;  ... &lt;/con&gt;. To  make mathematical modeling easier, we added several macros to the standard  XQuery language. For example, the <strong>SUM</strong> function as we use it is not provided by XQuery. A preprocessor inside the OSmL  compiler converts the macros into standard XQuery language.&nbsp; </p>
  <p>Since  OSmL is XQuery-based, we can automatically inherit many powerful features from  the XQuery language. For example, we can use built-in Java functions:</p>
  <p class="style4">declare namespace  math=&quot;java:java.lang.Math&quot;;</p>
  <p>The objective function in OSmL with a &ldquo;square root function&rdquo;  on fixed cost may look: </p>
  <p class="style4">&lt;obj  maxOrMin=&quot;min&quot; name=&quot;Total_Cost&quot;&gt;<br>
    SUM(for $i in (1 to $N), $t  in (1 to $T) return<br>
    {$PCOST[$i]}*X[{$i},{$t}] + <br>
    {<strong>math:sqrt($FXC[$i])</strong>}*Y[{$i},{$t}] + <br>
    {$HC[$i]}*I[{$i},{$t}])<br>
  &lt;/obj&gt;&nbsp; </p>
  <p>We can also use many other built-in features  of XQuery such as the &ldquo;where&rdquo; clause to put conditions on sets or &ldquo;if&ndash;then&rdquo; logic for more complex data manipulation. </p>
  <p><u>Getting data </u></p>
  <p>XQuery and XPath are designed to work with input  data in an XML format. In this section we show that there are numerous tools  for transforming non-XML data into XML data. Most of the data used in a math  program will reside in a</p>
  <p>&bull; spreadsheet<br>
&bull; desktop database (e.g.  Microsoft Access)<br>
&bull; ASCII flat file<br>
&bull; enterprise database (e.g.  DB2, Oracle, SQL Server)<br>
&bull; XML file</p>
  <p>We discuss converting each source into XML. There  are several options with a spreadsheet or desktop database. If the spreadsheet  or database is part of Microsoft Office 2002 (or later) it is possible to  directly export each table in the database, or range in the spreadsheet, as an  XML file. If the desktop spreadsheet or database are ODBC or OLE-DB compliant,  then one can write a program in a procedural language such as C++ or Java to  access the data using ODBC or OLE-DB, read it into memory, and then use DOM  (document object module) to create an XML representation of the data. There is  some overhead in creating the DOM and storing it in main memory. An alternative  approach is to write a custom SAX parser and feed the information directly into  a JAXP compliant XSLT processor. DOM and SAX are alternative APIs for  processing XML. </p>
  <p>If the flat file is an ASCII flat file, several  options exist. First, one could import the flat file into a desktop database  such as Microsoft Access and then save it as an XML file. A second option is to  write a C++ or Java program to parse the file and then use DOM or SAX create an  XML representation of the data. </p>
  <p>Much of the data for large models is stored in  enterprise corporate databases. Fortunately, the major database vendors are  adding features to their products that allow the user to submit an SQL query to  the database and get the result back in XML format. There are JDBC drivers for  the most widely used databases. Thus, one could write a Java program and use  JDBC and SQL to query the database, get the result as XML, and then transform  the XML using a JAXP transformation engine such XALAN or Saxon. This process is  also easily carried out using Visual Studio .NET. There are many classes  available to any of the .NET languages for reading data in XML format from a  relational database and then transforming it to XML. </p>
  <p>Ideally, the input data is initially in XML format.  However, some XML structures are more amenable to transformation into a  mathematical model than others. Of course most XML transformation tools are  designed to transform one XML file into another without much difficulty. </p>
  <p>There are products expressly for the purpose of  accessing data stored in different formats and viewing the data as XML. Two  such products include BEA&rsquo;s <em>Liquid Data</em> and IBM&rsquo;s <em>XPeranto</em>. The trend is obvious: make it easy to gather  data from various sources and convert it into XML. This makes the OSmL methodology  we are proposing even more viable over time. </p>
  <br clear="all">
<!-- InstanceEndEditable -->
  <p><br>
  </p></td>
<!-- end column two --> 
<!-- start column three -->
<td width="186" align="right" valign="top"><p/>
  <p><!-- InstanceBeginEditable name="Blurb1" -->  
  <table width="136" border="0" cellpadding="0" cellspacing="0">
<tr>
  <td class="spiffhdr">OSmL</td>
</tr>
<tr>
  <td class="spifftxt"><ul>
    <li><a href="#OSmLIntroduction">Introduction</a></li>
    </ul>
    <ul>
      <li><a href="#OSmLMotivation">OSmL Motivation </a></li>
      </ul>
    <ul>
      <li><a href="#fourParadigms">Four Paradigms of Combining XML with Optimization</a></li>
      </ul>    
    <ul>
      <li><a href="#OSmLFeatures">OSmL Features and Examples</a></li>
    </ul></td>
</tr>
</table><!-- InstanceEndEditable --></p>
  <p><!-- InstanceBeginEditable name="Blurb2" --><!-- InstanceEndEditable --></p>
  <p><!-- InstanceBeginEditable name="Blurb3" --><!-- InstanceEndEditable --></p></td>
<!-- end column three -->
</tr>
<tr>
<td><img src="images/spacer.gif" width="152" height="1" alt=""></td>
<td><img src="images/spacer.gif" width="1" height="1" alt=""></td>
<td><img src="images/spacer.gif" width="23" height="1" alt=""></td>
<td><img src="images/spacer.gif" width="450" height="1" alt=""></td>
<td><img src="images/spacer.gif" width="150" height="1" alt=""></td>
</tr>
</table>
<!-- end body table -->

<!-- start footer table -->
<table width="836" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="400"><img src="images/spacer.gif" width="400" height="10" alt=""></td>
<td width="436"><img src="images/spacer.gif" width="376" height="10" alt=""></td>
</tr>
<tr>
<td colspan="2" bgcolor="#666666"><img src="images/spacer.gif" width="776" height="1" alt=""></td>
</tr>
<tr>
<td colspan="2"><img src="images/spacer.gif" width="1" height="5" alt=""></td>
</tr>
<tr>
<td class="footer">&nbsp;</td>
<td align="right" class="footer">&#169; Optimization Services (OS) 2006 | All rights reserved.</td>
</tr>
</table>
<!-- end footer table -->
<!--script type="text/javascript">
google_ad_client = "pub-9660334810015606";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "000066";
google_color_text = "333333";
google_color_url = "666666";

</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script-->
</body>
<!-- InstanceEnd --></html>
