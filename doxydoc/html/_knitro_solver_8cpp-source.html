<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>/Users/kmartin/Documents/files/code/cpp/OScpp/COIN-OS/OS/src/OSSolverInterfaces/KnitroSolver.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>/Users/kmartin/Documents/files/code/cpp/OScpp/COIN-OS/OS/src/OSSolverInterfaces/KnitroSolver.cpp</h1><a href="_knitro_solver_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00020"></a>00020 <span class="preprocessor">#include "<a class="code" href="_knitro_solver_8h.html" title="Robert Fourer, Jun Ma, Kipp Martin,">KnitroSolver.h</a>"</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include "<a class="code" href="_common_util_8h.html" title="Robert Fourer, Jun Ma, Kipp Martin,">CommonUtil.h</a>"</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="keyword">using</span> std::cout; 
<a name="l00024"></a>00024 <span class="keyword">using</span> std::endl; 
<a name="l00025"></a>00025 <span class="keyword">using</span> std::ostringstream;
<a name="l00026"></a>00026 <span class="keyword">using namespace </span>std;
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#if defined(_WIN32)</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">  #include  &lt;windows.h&gt;</span>     <span class="comment">//-- FOR LoadLibrary</span>
<a name="l00030"></a>00030 <span class="preprocessor">#else</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="preprocessor">  #include  &lt;dlfcn.h&gt;</span>       <span class="comment">//-- FOR dlopen</span>
<a name="l00032"></a>00032 <span class="preprocessor">#endif</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00036"></a>00036 <span class="comment">//  Static variables and data</span>
<a name="l00037"></a>00037 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="_knitro_solver_8cpp.html#0a192ae11323cb716917065a1713bffb">00039</a> <span class="keyword">static</span> NlpProblemDef *  <a class="code" href="_knitro_solver_8cpp.html#0a192ae11323cb716917065a1713bffb">g_pTheNlpProblemDefInstance</a> = NULL;
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="comment">//for calling the solver and feeding the nlp problem</span>
<a name="l00042"></a><a class="code" href="_knitro_solver_8cpp.html#fe218f29c9620df0da17ba5be845d11b">00042</a> <span class="keyword">static</span> NlpProblemDef *  <a class="code" href="_knitro_solver_8cpp.html#fe218f29c9620df0da17ba5be845d11b">g_pOptProblem</a> = NULL;
<a name="l00043"></a>00043 
<a name="l00044"></a><a class="code" href="_knitro_solver_8cpp.html#cc862fefe83775c0428a2a04cec1586c">00044</a> <span class="keyword">static</span> <span class="keywordtype">int</span>  <a class="code" href="_knitro_solver_8cpp.html#cc862fefe83775c0428a2a04cec1586c">wrapperEvalFC</a> (<span class="keyword">const</span> <span class="keywordtype">int</span>             evalRequestCode,
<a name="l00045"></a>00045                            <span class="keyword">const</span> <span class="keywordtype">int</span>             n,
<a name="l00046"></a>00046                            <span class="keyword">const</span> <span class="keywordtype">int</span>             m,
<a name="l00047"></a>00047                            <span class="keyword">const</span> <span class="keywordtype">int</span>             nnzJ,
<a name="l00048"></a>00048                            <span class="keyword">const</span> <span class="keywordtype">int</span>             nnzH,
<a name="l00049"></a>00049                            <span class="keyword">const</span> <span class="keywordtype">double</span> * <span class="keyword">const</span>  daX,
<a name="l00050"></a>00050                            <span class="keyword">const</span> <span class="keywordtype">double</span> * <span class="keyword">const</span>  daLambda,
<a name="l00051"></a>00051                                  <span class="keywordtype">double</span> * <span class="keyword">const</span>  dObj,
<a name="l00052"></a>00052                                  <span class="keywordtype">double</span> * <span class="keyword">const</span>  daC,
<a name="l00053"></a>00053                                  <span class="keywordtype">double</span> * <span class="keyword">const</span>  daG,
<a name="l00054"></a>00054                                  <span class="keywordtype">double</span> * <span class="keyword">const</span>  daJ,
<a name="l00055"></a>00055                                  <span class="keywordtype">double</span> * <span class="keyword">const</span>  daH,
<a name="l00056"></a>00056                                  <span class="keywordtype">double</span> * <span class="keyword">const</span>  daHV,
<a name="l00057"></a>00057                                  <span class="keywordtype">void</span>   *        userParams){
<a name="l00058"></a>00058     <span class="keywordflow">if</span> (<a class="code" href="_knitro_solver_8cpp.html#fe218f29c9620df0da17ba5be845d11b">g_pOptProblem</a> == NULL)
<a name="l00059"></a>00059         {
<a name="l00060"></a>00060         cout &lt;&lt; <span class="stringliteral">"*** Problem not defined  &lt;wrapperEvalFC&gt;\n"</span>;
<a name="l00061"></a>00061         <span class="keywordflow">return</span>( -1 );
<a name="l00062"></a>00062         }
<a name="l00063"></a>00063     <span class="keywordflow">if</span> (evalRequestCode != KTR_RC_EVALFC)
<a name="l00064"></a>00064         {
<a name="l00065"></a>00065         cout &lt;&lt; <span class="stringliteral">"*** Bad request code "</span> &lt;&lt; evalRequestCode
<a name="l00066"></a>00066              &lt;&lt; <span class="stringliteral">"  &lt;wrapperEvalFC&gt;\n"</span>;
<a name="l00067"></a>00067         <span class="keywordflow">return</span>( -1 );
<a name="l00068"></a>00068         }
<a name="l00069"></a>00069     <span class="keywordflow">return</span>( <a class="code" href="_knitro_solver_8cpp.html#fe218f29c9620df0da17ba5be845d11b">g_pOptProblem</a>-&gt;evalFC (daX, dObj, daC, userParams) );
<a name="l00070"></a>00070 }<span class="comment">//wrapperEvalFC</span>
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00074"></a>00074 <span class="comment">//  Internal Function:  wrapperEvalGA</span>
<a name="l00075"></a>00075 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00079"></a><a class="code" href="_knitro_solver_8cpp.html#122fbc1525a58a7ee1e57b7c944af192">00079</a> <span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">int</span>  <a class="code" href="_knitro_solver_8cpp.html#122fbc1525a58a7ee1e57b7c944af192" title="By necessity this wrapper signature matches the function KTR_callback.">wrapperEvalGA</a> (<span class="keyword">const</span> <span class="keywordtype">int</span>             evalRequestCode,
<a name="l00080"></a>00080                            <span class="keyword">const</span> <span class="keywordtype">int</span>             n,
<a name="l00081"></a>00081                            <span class="keyword">const</span> <span class="keywordtype">int</span>             m,
<a name="l00082"></a>00082                            <span class="keyword">const</span> <span class="keywordtype">int</span>             nnzJ,
<a name="l00083"></a>00083                            <span class="keyword">const</span> <span class="keywordtype">int</span>             nnzH,
<a name="l00084"></a>00084                            <span class="keyword">const</span> <span class="keywordtype">double</span> * <span class="keyword">const</span>  daX,
<a name="l00085"></a>00085                            <span class="keyword">const</span> <span class="keywordtype">double</span> * <span class="keyword">const</span>  daLambda,
<a name="l00086"></a>00086                                  <span class="keywordtype">double</span> * <span class="keyword">const</span>  dObj,
<a name="l00087"></a>00087                                  <span class="keywordtype">double</span> * <span class="keyword">const</span>  daC,
<a name="l00088"></a>00088                                  <span class="keywordtype">double</span> * <span class="keyword">const</span>  daG,
<a name="l00089"></a>00089                                  <span class="keywordtype">double</span> * <span class="keyword">const</span>  daJ,
<a name="l00090"></a>00090                                  <span class="keywordtype">double</span> * <span class="keyword">const</span>  daH,
<a name="l00091"></a>00091                                  <span class="keywordtype">double</span> * <span class="keyword">const</span>  daHV,
<a name="l00092"></a>00092                                  <span class="keywordtype">void</span>   *        userParams){
<a name="l00093"></a>00093     <span class="keywordflow">if</span> (<a class="code" href="_knitro_solver_8cpp.html#fe218f29c9620df0da17ba5be845d11b">g_pOptProblem</a> == NULL)
<a name="l00094"></a>00094         {
<a name="l00095"></a>00095         cout &lt;&lt; <span class="stringliteral">"*** Problem not defined  &lt;wrapperEvalGA&gt;\n"</span>;
<a name="l00096"></a>00096         <span class="keywordflow">return</span>( -1 );
<a name="l00097"></a>00097         }
<a name="l00098"></a>00098     <span class="keywordflow">if</span> (evalRequestCode != KTR_RC_EVALGA)
<a name="l00099"></a>00099         {
<a name="l00100"></a>00100         cout &lt;&lt; <span class="stringliteral">"*** Bad request code "</span> &lt;&lt; evalRequestCode
<a name="l00101"></a>00101              &lt;&lt; <span class="stringliteral">"  &lt;wrapperEvalGA&gt;\n"</span>;
<a name="l00102"></a>00102         <span class="keywordflow">return</span>( -1 );
<a name="l00103"></a>00103         }
<a name="l00104"></a>00104     <span class="keywordflow">return</span>( <a class="code" href="_knitro_solver_8cpp.html#fe218f29c9620df0da17ba5be845d11b">g_pOptProblem</a>-&gt;evalGA (daX, daG, daJ, userParams) );
<a name="l00105"></a>00105 }<span class="comment">//wrapperEvalGA</span>
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00109"></a>00109 <span class="comment">//  Internal Function:  wrapperEvalHorHV</span>
<a name="l00110"></a>00110 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00114"></a><a class="code" href="_knitro_solver_8cpp.html#e53911c88ed1e5712934187c7983e395">00114</a> <span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">int</span>  <a class="code" href="_knitro_solver_8cpp.html#e53911c88ed1e5712934187c7983e395" title="By necessity this wrapper signature matches the function KTR_callback.">wrapperEvalHorHV</a> (<span class="keyword">const</span> <span class="keywordtype">int</span>             evalRequestCode,
<a name="l00115"></a>00115                               <span class="keyword">const</span> <span class="keywordtype">int</span>             n,
<a name="l00116"></a>00116                               <span class="keyword">const</span> <span class="keywordtype">int</span>             m,
<a name="l00117"></a>00117                               <span class="keyword">const</span> <span class="keywordtype">int</span>             nnzJ,
<a name="l00118"></a>00118                               <span class="keyword">const</span> <span class="keywordtype">int</span>             nnzH,
<a name="l00119"></a>00119                               <span class="keyword">const</span> <span class="keywordtype">double</span> * <span class="keyword">const</span>  daX,
<a name="l00120"></a>00120                               <span class="keyword">const</span> <span class="keywordtype">double</span> * <span class="keyword">const</span>  daLambda,
<a name="l00121"></a>00121                                     <span class="keywordtype">double</span> * <span class="keyword">const</span>  dObj,
<a name="l00122"></a>00122                                     <span class="keywordtype">double</span> * <span class="keyword">const</span>  daC,
<a name="l00123"></a>00123                                     <span class="keywordtype">double</span> * <span class="keyword">const</span>  daG,
<a name="l00124"></a>00124                                     <span class="keywordtype">double</span> * <span class="keyword">const</span>  daJ,
<a name="l00125"></a>00125                                     <span class="keywordtype">double</span> * <span class="keyword">const</span>  daH,
<a name="l00126"></a>00126                                     <span class="keywordtype">double</span> * <span class="keyword">const</span>  daHV,
<a name="l00127"></a>00127                                     <span class="keywordtype">void</span>   *        userParams){
<a name="l00128"></a>00128     <span class="keywordflow">if</span> (<a class="code" href="_knitro_solver_8cpp.html#fe218f29c9620df0da17ba5be845d11b">g_pOptProblem</a> == NULL)
<a name="l00129"></a>00129         {
<a name="l00130"></a>00130         cout &lt;&lt; <span class="stringliteral">"*** Problem not defined  &lt;wrapperEvalHorHV&gt;\n"</span>;
<a name="l00131"></a>00131         <span class="keywordflow">return</span>( -1 );
<a name="l00132"></a>00132         }
<a name="l00133"></a>00133     <span class="keywordflow">if</span> (evalRequestCode == KTR_RC_EVALH)
<a name="l00134"></a>00134         {
<a name="l00135"></a>00135         <span class="keywordflow">if</span> (<a class="code" href="_knitro_solver_8cpp.html#fe218f29c9620df0da17ba5be845d11b">g_pOptProblem</a>-&gt;areDerivativesImplemented (nCAN_COMPUTE_H) == <span class="keyword">false</span>)
<a name="l00136"></a>00136             {
<a name="l00137"></a>00137             cout &lt;&lt; <span class="stringliteral">"*** This problem not evaluate H  &lt;wrapperEvalHorHV&gt;\n"</span>;
<a name="l00138"></a>00138             <span class="keywordflow">return</span>( -1 );
<a name="l00139"></a>00139             }
<a name="l00140"></a>00140         <span class="keywordflow">return</span>( <a class="code" href="_knitro_solver_8cpp.html#fe218f29c9620df0da17ba5be845d11b">g_pOptProblem</a>-&gt;evalH (daX, daLambda, daH, userParams) );
<a name="l00141"></a>00141         }
<a name="l00142"></a>00142     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (evalRequestCode == KTR_RC_EVALHV)
<a name="l00143"></a>00143         {
<a name="l00144"></a>00144         <span class="keywordflow">if</span> (<a class="code" href="_knitro_solver_8cpp.html#fe218f29c9620df0da17ba5be845d11b">g_pOptProblem</a>-&gt;areDerivativesImplemented (nCAN_COMPUTE_HV) == <span class="keyword">false</span>)
<a name="l00145"></a>00145             {
<a name="l00146"></a>00146             cout &lt;&lt; <span class="stringliteral">"*** This problem not evaluate H*v  &lt;wrapperEvalHorHV&gt;\n"</span>;
<a name="l00147"></a>00147             <span class="keywordflow">return</span>( -1 );
<a name="l00148"></a>00148             }
<a name="l00149"></a>00149         <span class="keywordflow">return</span>( <a class="code" href="_knitro_solver_8cpp.html#fe218f29c9620df0da17ba5be845d11b">g_pOptProblem</a>-&gt;evalHV (daX, daLambda, daHV, userParams) );
<a name="l00150"></a>00150         }
<a name="l00151"></a>00151     <span class="keywordflow">else</span>
<a name="l00152"></a>00152         {
<a name="l00153"></a>00153         cout &lt;&lt; <span class="stringliteral">"*** Bad request code "</span> &lt;&lt; evalRequestCode
<a name="l00154"></a>00154              &lt;&lt; <span class="stringliteral">"  &lt;wrapperEvalHorHV&gt;\n"</span>;
<a name="l00155"></a>00155         <span class="keywordflow">return</span>( -1 );
<a name="l00156"></a>00156         }
<a name="l00157"></a>00157 }<span class="comment">//wrapperEvalHorHV</span>
<a name="l00158"></a>00158 
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00162"></a>00162 <span class="comment">//  Exported Function:  getNlpProblemDef</span>
<a name="l00163"></a>00163 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00164"></a>00164 <span class="comment">//++ Export a function that returns the static pointer to this class.</span>
<a name="l00165"></a>00165 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span>
<a name="l00167"></a>00167 {
<a name="l00168"></a>00168 <span class="preprocessor">    #if defined(_WIN32)</span>
<a name="l00169"></a>00169 <span class="preprocessor"></span>    __declspec(dllexport) NlpProblemDef *  getNlpProblemDef (<span class="keywordtype">void</span>)
<a name="l00170"></a>00170     <span class="preprocessor">#else</span>
<a name="l00171"></a>00171 <span class="preprocessor"></span>     NlpProblemDef *  getNlpProblemDef (<span class="keywordtype">void</span>)
<a name="l00172"></a>00172     <span class="preprocessor">#endif</span>
<a name="l00173"></a>00173 <span class="preprocessor"></span>    {
<a name="l00174"></a>00174         <span class="keywordflow">if</span> (<a class="code" href="_knitro_solver_8cpp.html#0a192ae11323cb716917065a1713bffb">g_pTheNlpProblemDefInstance</a> == NULL)
<a name="l00175"></a>00175             <a class="code" href="_knitro_solver_8cpp.html#0a192ae11323cb716917065a1713bffb">g_pTheNlpProblemDefInstance</a> = <span class="keyword">new</span> <a class="code" href="class_knitro_solver.html" title="the KnitroSolver class solves problems using Knitro.">KnitroSolver</a>;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177         <span class="keywordflow">return</span>( <a class="code" href="_knitro_solver_8cpp.html#0a192ae11323cb716917065a1713bffb">g_pTheNlpProblemDefInstance</a> );
<a name="l00178"></a>00178     }
<a name="l00179"></a>00179 }
<a name="l00180"></a>00180 <span class="preprocessor">#endif</span>
<a name="l00181"></a>00181 <span class="preprocessor"></span>
<a name="l00182"></a>00182 
<a name="l00183"></a><a class="code" href="class_knitro_solver.html#106def3ae034d384c3d825b40caaba00">00183</a> <a class="code" href="class_knitro_solver.html#106def3ae034d384c3d825b40caaba00" title="the KnitroSolver class constructor">KnitroSolver::KnitroSolver</a>() {
<a name="l00184"></a>00184         <a class="code" href="class_knitro_solver.html#8fbcc96310090fce9ab0e18b5f9bc936">osrlwriter</a> = <span class="keyword">new</span> <a class="code" href="class_o_sr_l_writer.html" title="Take an OSResult object and write a string that validates against OSrL..">OSrLWriter</a>();
<a name="l00185"></a>00185         <a class="code" href="class_knitro_solver.html#feff96c67c1fb26881f0e5ad95c6ec7c">knitroErrorMsg</a> = <span class="stringliteral">""</span>;
<a name="l00186"></a>00186         _daXInit = NULL;
<a name="l00187"></a>00187 }
<a name="l00188"></a>00188 
<a name="l00189"></a><a class="code" href="class_knitro_solver.html#ef70b4abd35145948e0ac489a515391d">00189</a> <a class="code" href="class_knitro_solver.html#ef70b4abd35145948e0ac489a515391d" title="the KnitroSolver class constructor">KnitroSolver::~KnitroSolver</a>() {
<a name="l00190"></a>00190 <span class="preprocessor">        #ifdef DEBUG</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span>        cout &lt;&lt; <span class="stringliteral">"inside KnitroSolver destructor"</span> &lt;&lt; endl;
<a name="l00192"></a>00192 <span class="preprocessor">        #endif</span>
<a name="l00193"></a>00193 <span class="preprocessor"></span>        <span class="keyword">delete</span> <a class="code" href="class_knitro_solver.html#8fbcc96310090fce9ab0e18b5f9bc936">osrlwriter</a>;
<a name="l00194"></a>00194         <a class="code" href="class_knitro_solver.html#8fbcc96310090fce9ab0e18b5f9bc936">osrlwriter</a> = NULL;
<a name="l00195"></a>00195 <span class="preprocessor">        #ifdef DEBUG</span>
<a name="l00196"></a>00196 <span class="preprocessor"></span>        cout &lt;&lt; <span class="stringliteral">"leaving KnitroSolver destructor"</span> &lt;&lt; endl;
<a name="l00197"></a>00197 <span class="preprocessor">        #endif</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span>    <span class="keyword">delete</span> [] _daXInit;
<a name="l00199"></a>00199         _daXInit = NULL;
<a name="l00200"></a>00200 } 
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00203"></a>00203 <span class="comment">//  Simple access methods</span>
<a name="l00204"></a>00204 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00205"></a>00205 
<a name="l00206"></a><a class="code" href="class_knitro_solver.html#2771d5a7f50fec4bc6c5cf81ed8bbf4a">00206</a> <span class="keywordtype">int</span>  <a class="code" href="class_knitro_solver.html#2771d5a7f50fec4bc6c5cf81ed8bbf4a">KnitroSolver::getN</a> (<span class="keywordtype">void</span>){
<a name="l00207"></a>00207     <span class="keywordflow">return</span>( _nN );
<a name="l00208"></a>00208 }<span class="comment">//getN</span>
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 
<a name="l00211"></a><a class="code" href="class_knitro_solver.html#332ef942b0e9f9169258770e85fc3a47">00211</a> <span class="keywordtype">int</span>  <a class="code" href="class_knitro_solver.html#332ef942b0e9f9169258770e85fc3a47">KnitroSolver::getM</a> (<span class="keywordtype">void</span>){
<a name="l00212"></a>00212     <span class="keywordflow">return</span>( _nM );
<a name="l00213"></a>00213 }<span class="comment">//getM</span>
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 
<a name="l00216"></a><a class="code" href="class_knitro_solver.html#a30bd6d3b95cb5f5da8492efbd39381e">00216</a> <span class="keywordtype">void</span>  <a class="code" href="class_knitro_solver.html#a30bd6d3b95cb5f5da8492efbd39381e">KnitroSolver::getInitialX</a> (<span class="keywordtype">double</span> * <span class="keyword">const</span>  daX){
<a name="l00217"></a>00217     <span class="keywordflow">if</span> (_daXInit == NULL){
<a name="l00218"></a>00218         cout &lt;&lt; <span class="stringliteral">"*** Must call 'loadProblemIntoKnitro' before 'KnitroSolver::getInitialX'\n"</span>;
<a name="l00219"></a>00219         exit( EXIT_FAILURE );
<a name="l00220"></a>00220         }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222         <span class="keywordflow">for</span> (<span class="keywordtype">int</span>  i = 0; i &lt; _nN; i++){
<a name="l00223"></a>00223         daX[i] = _daXInit[i];
<a name="l00224"></a>00224         }
<a name="l00225"></a>00225     <span class="keywordflow">return</span>;
<a name="l00226"></a>00226 }<span class="comment">//getM</span>
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00229"></a>00229 <span class="comment">//  Method:  loadProblemIntoKnitro</span>
<a name="l00230"></a>00230 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00234"></a><a class="code" href="class_knitro_solver.html#5f7905fced9368af3dc242aeaf2cc29e">00234</a> <span class="comment"></span><span class="keywordtype">bool</span>  <a class="code" href="class_knitro_solver.html#5f7905fced9368af3dc242aeaf2cc29e" title="Define the fixed problem definition information and pass it to KNITRO by calling...">KnitroSolver::loadProblemIntoKnitro</a> (KTR_context_ptr  kc){
<a name="l00235"></a>00235         <span class="keywordtype">int</span> i;
<a name="l00236"></a>00236         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#f27cb65ebabf3a4902e6651f90b39f69" title="Get objective number.">getObjectiveNumber</a>() &lt;= 0) <span class="keywordflow">throw</span> <a class="code" href="class_error_class.html" title="used for throwing exceptions.">ErrorClass</a>(<span class="stringliteral">"Knitro NEEDS AN OBJECTIVE FUNCTION"</span>);                       
<a name="l00237"></a>00237         <span class="comment">// number of variables</span>
<a name="l00238"></a>00238         _nN = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#b8f6b8c1370e29b7fb78d833e7894902" title="Get variable number.">getVariableNumber</a>();
<a name="l00239"></a>00239         <span class="comment">// number of constraints</span>
<a name="l00240"></a>00240         _nM = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#5b34a8fd088ca0fa4154b602930726b3" title="Get constraint number.">getConstraintNumber</a>();
<a name="l00241"></a>00241         cout &lt;&lt; <span class="stringliteral">"number variables  !!!!!!!!!!!!!!!!!!!!!!!!!!!"</span> &lt;&lt; _nN &lt;&lt; endl;
<a name="l00242"></a>00242         cout &lt;&lt; <span class="stringliteral">"number constraints  !!!!!!!!!!!!!!!!!!!!!!!!!!!"</span> &lt;&lt; _nM &lt;&lt; endl;
<a name="l00243"></a>00243         <span class="keywordflow">try</span>{
<a name="l00244"></a>00244                 <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#96bf1b70e26cdfcdf789f71c7b5637ae" title="This should be called by nonlinear solvers using callback functions.">initForAlgDiff</a>( );
<a name="l00245"></a>00245         }
<a name="l00246"></a>00246         <span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code" href="class_error_class.html" title="used for throwing exceptions.">ErrorClass</a>&amp; eclass){
<a name="l00247"></a>00247                 <a class="code" href="class_knitro_solver.html#feff96c67c1fb26881f0e5ad95c6ec7c">knitroErrorMsg</a> = eclass.<a class="code" href="class_error_class.html#bd8c251cf8ca561e581516ef2a377cb7" title="errormsg is the error that is causing the exception to be thrown">errormsg</a>;
<a name="l00248"></a>00248                 <span class="keywordflow">throw</span>;  
<a name="l00249"></a>00249         }       
<a name="l00250"></a>00250 
<a name="l00251"></a>00251         <span class="comment">// variables lower bounds</span>
<a name="l00252"></a>00252         <span class="keywordtype">double</span> * mdVarLB = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#b7d75f3732e902f64aad9e34c1aab2cb" title="Get variable lower bounds.">getVariableLowerBounds</a>();
<a name="l00253"></a>00253         std::cout &lt;&lt; <span class="stringliteral">"GET BOUNDS INFORMATION FOR KNITRO!!!!!!!!!!!!!!!"</span> &lt;&lt; std::endl;
<a name="l00254"></a>00254         <span class="comment">// variables upper bounds</span>
<a name="l00255"></a>00255         <span class="keywordtype">double</span> * mdVarUB = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#1d6f4b426e8b3bbf48805b0cf4626f7a" title="Get variable upper bounds.">getVariableUpperBounds</a>();
<a name="l00256"></a>00256 
<a name="l00257"></a>00257         _daXLo  = <span class="keyword">new</span> <span class="keywordtype">double</span>[_nN];
<a name="l00258"></a>00258     _daXUp  = <span class="keyword">new</span> <span class="keywordtype">double</span>[_nN];
<a name="l00259"></a>00259         <span class="keywordflow">for</span>(i = 0; i &lt; _nN; i++){
<a name="l00260"></a>00260                 <span class="keywordflow">if</span>( mdVarLB[ i] == -<a class="code" href="_o_s_parameters_8h.html#bc9c788767247739b7caf1f3e4569c38">OSINFINITY</a>) _daXLo[i] = -KTR_INFBOUND;
<a name="l00261"></a>00261                         <span class="keywordflow">else</span> _daXLo[i] = mdVarLB[ i]; 
<a name="l00262"></a>00262                 <span class="keywordflow">if</span>( mdVarUB[ i] == <a class="code" href="_o_s_parameters_8h.html#bc9c788767247739b7caf1f3e4569c38">OSINFINITY</a>) _daXUp[i] = KTR_INFBOUND;
<a name="l00263"></a>00263                         <span class="keywordflow">else</span> _daXUp[i] = mdVarUB[ i];   
<a name="l00264"></a>00264                         
<a name="l00265"></a>00265                 <span class="comment">//cout &lt;&lt; "x_l !!!!!!!!!!!!!!!!!!!!!!!!!!!" &lt;&lt; x_l[i] &lt;&lt; endl;</span>
<a name="l00266"></a>00266                 <span class="comment">//cout &lt;&lt; "x_u !!!!!!!!!!!!!!!!!!!!!!!!!!!" &lt;&lt; x_u[i] &lt;&lt; endl;</span>
<a name="l00267"></a>00267         }
<a name="l00268"></a>00268 
<a name="l00269"></a>00269         <span class="comment">//constraint lower bounds</span>
<a name="l00270"></a>00270         <span class="keywordtype">double</span> * mdConLB = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#12be8902c36a63c13fb23513ccdca759" title="Get constraint lower bounds.">getConstraintLowerBounds</a>();
<a name="l00271"></a>00271         <span class="comment">//constraint upper bounds</span>
<a name="l00272"></a>00272         <span class="keywordtype">double</span> * mdConUB = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#f2264e765343f693b58ea744ac6785e1" title="Get constraint upper bounds.">getConstraintUpperBounds</a>();
<a name="l00273"></a>00273         
<a name="l00274"></a>00274         _naCType  = <span class="keyword">new</span> <span class="keywordtype">int</span>[_nM];
<a name="l00275"></a>00275     _daCLo    = <span class="keyword">new</span> <span class="keywordtype">double</span>[_nM];
<a name="l00276"></a>00276     _daCUp    = <span class="keyword">new</span> <span class="keywordtype">double</span>[_nM];
<a name="l00277"></a>00277     _naCType[0] = KTR_CONTYPE_LINEAR;
<a name="l00278"></a>00278         <span class="keywordflow">for</span>(i = 0; i &lt; _nM; i++){
<a name="l00279"></a>00279                 <span class="keywordflow">if</span>( mdConLB[ i] == -<a class="code" href="_o_s_parameters_8h.html#bc9c788767247739b7caf1f3e4569c38">OSINFINITY</a>) _daCLo[i] = -KTR_INFBOUND;
<a name="l00280"></a>00280                         <span class="keywordflow">else</span> _daCLo[i] = mdConLB[ i]; 
<a name="l00281"></a>00281                 <span class="keywordflow">if</span>( mdConUB[ i] == <a class="code" href="_o_s_parameters_8h.html#bc9c788767247739b7caf1f3e4569c38">OSINFINITY</a>) _daCUp[i] = KTR_INFBOUND;
<a name="l00282"></a>00282                         <span class="keywordflow">else</span> _daCUp[i] = mdConUB[ i];   
<a name="l00283"></a>00283                 <span class="comment">//cout &lt;&lt; "lower !!!!!!!!!!!!!!!!!!!!!!!!!!!" &lt;&lt; _daCLo[i] &lt;&lt; endl;</span>
<a name="l00284"></a>00284                 <span class="comment">//cout &lt;&lt; "upper !!!!!!!!!!!!!!!!!!!!!!!!!!!" &lt;&lt; _daCUp[i] &lt;&lt; endl;</span>
<a name="l00285"></a>00285                 _naCType[i] = KTR_CONTYPE_GENERAL; <span class="comment">//need change</span>
<a name="l00286"></a>00286         }  
<a name="l00287"></a>00287 
<a name="l00288"></a>00288         <span class="comment">// use the OS Expression tree for function evaluations instead of CppAD</span>
<a name="l00289"></a>00289         <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#4022c123b31d7c232a4ff0467e712423" title="bUseExpTreeForFunEval is set to true if you wish to use the OS Expression Tree for...">bUseExpTreeForFunEval</a> = <span class="keyword">true</span>;
<a name="l00290"></a>00290         std::cout &lt;&lt; <span class="stringliteral">"Call sparse jacobian"</span> &lt;&lt; std::endl;
<a name="l00291"></a>00291         <a class="code" href="class_sparse_jacobian_matrix.html" title="a sparse Jacobian matrix data structure">SparseJacobianMatrix</a> *sparseJacobian = NULL;
<a name="l00292"></a>00292         <span class="keywordflow">try</span>{
<a name="l00293"></a>00293                 sparseJacobian = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#2624537e3d97da77b45ada6ff49355ec" title="pointer to a SparseJacobianMatrix.">getJacobianSparsityPattern</a>();
<a name="l00294"></a>00294         }
<a name="l00295"></a>00295         <span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code" href="class_error_class.html" title="used for throwing exceptions.">ErrorClass</a>&amp; eclass){
<a name="l00296"></a>00296                 <a class="code" href="class_knitro_solver.html#feff96c67c1fb26881f0e5ad95c6ec7c">knitroErrorMsg</a> = eclass.<a class="code" href="class_error_class.html#bd8c251cf8ca561e581516ef2a377cb7" title="errormsg is the error that is causing the exception to be thrown">errormsg</a>;
<a name="l00297"></a>00297                 <span class="keywordflow">throw</span>;  
<a name="l00298"></a>00298         }
<a name="l00299"></a>00299         std::cout &lt;&lt; <span class="stringliteral">"Done calling sparse jacobian"</span> &lt;&lt; std::endl;
<a name="l00300"></a>00300         _nNnzJ = sparseJacobian-&gt;<a class="code" href="class_sparse_jacobian_matrix.html#6444194b5a4a8439858e596a99032ded" title="valueSize is the dimension of the values array">valueSize</a>;
<a name="l00301"></a>00301         <span class="comment">//cout &lt;&lt; "_nNnzJ  !!!!!!!!!!!!!!!!!!!!!!!!!!!" &lt;&lt; _nNnzJ &lt;&lt; endl;      </span>
<a name="l00302"></a>00302     _naJacIndexVars = <span class="keyword">new</span> <span class="keywordtype">int</span>[_nNnzJ];
<a name="l00303"></a>00303     _naJacIndexCons = <span class="keyword">new</span> <span class="keywordtype">int</span>[_nNnzJ];
<a name="l00304"></a>00304         <span class="keywordtype">int</span> k, idx;
<a name="l00305"></a>00305         i = 0;
<a name="l00306"></a>00306         <span class="keywordflow">for</span>(idx = 0; idx &lt; _nM; idx++){
<a name="l00307"></a>00307                 <span class="keywordflow">for</span>(k = *(sparseJacobian-&gt;<a class="code" href="class_sparse_jacobian_matrix.html#9358d59467b39ce4ad7d76446c0300af" title="starts holds an integer array of start elements, each start element pints to the...">starts</a> + idx); k &lt; *(sparseJacobian-&gt;<a class="code" href="class_sparse_jacobian_matrix.html#9358d59467b39ce4ad7d76446c0300af" title="starts holds an integer array of start elements, each start element pints to the...">starts</a> + idx + 1); k++){
<a name="l00308"></a>00308                         _naJacIndexCons[i] = idx;
<a name="l00309"></a>00309                         _naJacIndexVars[i] = *(sparseJacobian-&gt;<a class="code" href="class_sparse_jacobian_matrix.html#32297e313b14e1830eea66d031f40ed0" title="indexes holds an integer array of variable indicies.">indexes</a> + k);
<a name="l00310"></a>00310                         <span class="comment">//cout &lt;&lt; "ROW IDX  !!!!!!!!!!!!!!!!!!!!!!!!!!!"  &lt;&lt; _naJacIndexCons[i] &lt;&lt; endl;</span>
<a name="l00311"></a>00311                         <span class="comment">//cout &lt;&lt; "COL IDX  !!!!!!!!!!!!!!!!!!!!!!!!!!!"  &lt;&lt; _naJacIndexVars[i] &lt;&lt; endl;</span>
<a name="l00312"></a>00312                         i++;
<a name="l00313"></a>00313                 }
<a name="l00314"></a>00314         }
<a name="l00315"></a>00315 
<a name="l00316"></a>00316 
<a name="l00317"></a>00317         <span class="comment">// nonzeros in upper hessian    </span>
<a name="l00318"></a>00318         <span class="keywordflow">if</span>( (<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#a473ecdd4f3b3429aae2815c217c0d07" title="Get number of nonlinear expressions.">getNumberOfNonlinearExpressions</a>() == 0) &amp;&amp; (<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#13a9091bcc5cf680d8c2ccba20e0974f" title="Get the number of specified (usually nonzero) qTerms in the quadratic coefficients...">getNumberOfQuadraticTerms</a>() == 0) ) {
<a name="l00319"></a>00319                 cout &lt;&lt; <span class="stringliteral">"This is a linear program"</span>  &lt;&lt; endl;
<a name="l00320"></a>00320                 _nNnzH = 0;
<a name="l00321"></a>00321         }
<a name="l00322"></a>00322         <span class="keywordflow">else</span>{
<a name="l00323"></a>00323                 std::cout &lt;&lt; <span class="stringliteral">"Get Lagrangain Hessian Sparsity Pattern "</span> &lt;&lt; std::endl;
<a name="l00324"></a>00324                 <a class="code" href="class_sparse_hessian_matrix.html" title="The in-memory representation of a SparseHessianMatrix..">SparseHessianMatrix</a> *sparseHessian = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#a5370ff5ff30c100b6ff7de4684b048f" title="a pointer to a SparseHessianMatrix with the nonzero structure of the Lagrangian Expression...">getLagrangianHessianSparsityPattern</a>();
<a name="l00325"></a>00325                 std::cout &lt;&lt; <span class="stringliteral">"Done Getting Lagrangain Hessian Sparsity Pattern "</span> &lt;&lt; std::endl;
<a name="l00326"></a>00326                 _nNnzH = sparseHessian-&gt;<a class="code" href="class_sparse_hessian_matrix.html#684376bd8119a5c98b0f86e6fdcd56d9" title="hessDimension is the number of nonzeros in each array.">hessDimension</a>;
<a name="l00327"></a>00327                 _naHessRows = <span class="keyword">new</span> <span class="keywordtype">int</span>[_nNnzH];
<a name="l00328"></a>00328                 _naHessCols = <span class="keyword">new</span> <span class="keywordtype">int</span>[_nNnzH];
<a name="l00329"></a>00329                 <span class="keywordflow">for</span>(i = 0; i &lt; _nNnzH; i++){
<a name="l00330"></a>00330                         _naHessCols[i] = *(sparseHessian-&gt;<a class="code" href="class_sparse_hessian_matrix.html#ac225b593520edf63da062c1a296cecd" title="hessColIdx is an integer array of column indicies in the range 0, .">hessColIdx</a> + i);
<a name="l00331"></a>00331                         _naHessRows[i] = *(sparseHessian-&gt;<a class="code" href="class_sparse_hessian_matrix.html#353a3fb48c17e3c74a3d456cfae52633" title="hessRowIdx is an integer array of row indicies in the range 0, .">hessRowIdx</a> + i);
<a name="l00332"></a>00332                                 cout &lt;&lt; <span class="stringliteral">"ROW HESS IDX  !!!!!!!!!!!!!!!!!!!!!!!!!!!"</span>  &lt;&lt; _naHessRows[i] &lt;&lt; endl;
<a name="l00333"></a>00333                                 cout &lt;&lt; <span class="stringliteral">"COL HESS IDX  !!!!!!!!!!!!!!!!!!!!!!!!!!!"</span>  &lt;&lt; _naHessCols[i] &lt;&lt; endl;
<a name="l00334"></a>00334                 }
<a name="l00335"></a>00335         }  
<a name="l00336"></a>00336  
<a name="l00337"></a>00337 
<a name="l00338"></a>00338     <span class="comment">//---- INITIAL GUESS FOR x AND lambda.</span>
<a name="l00339"></a>00339         <span class="comment">// Here, we assume we only have starting values for x, if you code</span>
<a name="l00340"></a>00340         <span class="comment">// your own NLP, you can provide starting values for the dual variables</span>
<a name="l00341"></a>00341         <span class="comment">// if you wish</span>
<a name="l00342"></a>00342         <span class="comment">//cout &lt;&lt; "get initial values !!!!!!!!!!!!!!!!!!!!!!!!!! " &lt;&lt; endl;</span>
<a name="l00343"></a>00343         <span class="keywordtype">double</span> *mdXInit = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#ac5c2b2274e0b7370ee9f41205c5928a" title="Get variable initial values.">getVariableInitialValues</a>(); 
<a name="l00344"></a>00344         _daXInit = <span class="keyword">new</span> <span class="keywordtype">double</span>[_nN];
<a name="l00345"></a>00345         <span class="keywordflow">if</span>( mdXInit != NULL) {
<a name="l00346"></a>00346                 <span class="keywordflow">for</span>(i = 0; i &lt; _nN; i++){
<a name="l00347"></a>00347                         _daXInit[ i] = mdXInit[ i];
<a name="l00348"></a>00348                         <span class="comment">//std::cout &lt;&lt; "INITIAL VALUE !!!!!!!!!!!!!!!!!!!!  " &lt;&lt; _daXInit[ i] &lt;&lt; std::endl;     </span>
<a name="l00349"></a>00349                 }       
<a name="l00350"></a>00350         }
<a name="l00351"></a>00351         <span class="keywordflow">else</span>{
<a name="l00352"></a>00352                 <span class="keywordflow">for</span>(i = 0; i &lt; _nN; i++){
<a name="l00353"></a>00353                         _daXInit[ i] = 1.7171;
<a name="l00354"></a>00354                 }
<a name="l00355"></a>00355         }
<a name="l00356"></a>00356         <span class="comment">//cout &lt;&lt; "got initial values !!!!!!!!!!!!!!!!!!!!!!!!!! " &lt;&lt; endl;</span>
<a name="l00357"></a>00357 
<a name="l00358"></a>00358         <span class="keywordtype">double</span> *  daLambdaInit = <span class="keyword">new</span> <span class="keywordtype">double</span>[_nM + _nN];
<a name="l00359"></a>00359     <span class="keywordflow">for</span> (i = 0; i &lt; _nM + _nN; i++)
<a name="l00360"></a>00360         daLambdaInit[i] = 0.0;
<a name="l00361"></a>00361         
<a name="l00362"></a>00362     <span class="comment">// set obj type</span>
<a name="l00363"></a>00363     <span class="keywordtype">int</span> iObjSense = KTR_OBJGOAL_MINIMIZE;
<a name="l00364"></a>00364         <span class="keywordflow">if</span>( <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#a49d78552f0aa386b44ca5f87f8c3ba3" title="A pointer to an InstanceData object.">instanceData</a>-&gt;<a class="code" href="class_instance_data.html#3cc1747f1f0b1b964a63d9639498b938" title="objectives is a pointer to a Objectives object">objectives</a>-&gt;<a class="code" href="class_objectives.html#130da6b6e3091b88546120d7601e57a8" title="coef is pointer to an array of ObjCoef object pointers">obj</a>[ 0]-&gt;<a class="code" href="class_objective.html#d19f27bd2c1b88aad0a11c2697c06ac7" title="declare the objective function to be a max or a min">maxOrMin</a>.compare(<span class="stringliteral">"max"</span>) == 0){
<a name="l00365"></a>00365                 iObjSense = KTR_OBJGOAL_MAXIMIZE;
<a name="l00366"></a>00366         }
<a name="l00367"></a>00367     <span class="keywordtype">int</span> iObjType = KTR_OBJTYPE_GENERAL; <span class="comment">//KTR_OBJTYPE_LINEAR, KTR_OBJTYPE_QUADRATIC</span>
<a name="l00368"></a>00368         i = KTR_init_problem (kc, _nN,
<a name="l00369"></a>00369                           iObjSense, iObjType,
<a name="l00370"></a>00370                           _daXLo, _daXUp,
<a name="l00371"></a>00371                           _nM, _naCType, _daCLo, _daCUp,
<a name="l00372"></a>00372                           _nNnzJ, _naJacIndexVars, _naJacIndexCons,
<a name="l00373"></a>00373                           _nNnzH, _naHessRows, _naHessCols,
<a name="l00374"></a>00374                           _daXInit, daLambdaInit);
<a name="l00375"></a>00375 
<a name="l00376"></a>00376     <span class="keyword">delete</span> [] _daXLo;
<a name="l00377"></a>00377     <span class="keyword">delete</span> [] _daXUp;
<a name="l00378"></a>00378     <span class="keyword">delete</span> [] _naCType;
<a name="l00379"></a>00379     <span class="keyword">delete</span> [] _daCLo;
<a name="l00380"></a>00380     <span class="keyword">delete</span> [] _daCUp;
<a name="l00381"></a>00381     <span class="keyword">delete</span> [] _naJacIndexVars;
<a name="l00382"></a>00382     <span class="keyword">delete</span> [] _naJacIndexCons;
<a name="l00383"></a>00383     <span class="keyword">delete</span> [] _naHessRows;
<a name="l00384"></a>00384     <span class="keyword">delete</span> [] _naHessCols;
<a name="l00385"></a>00385     <span class="keyword">delete</span> [] daLambdaInit;
<a name="l00386"></a>00386 
<a name="l00387"></a>00387     <span class="keywordflow">if</span> (i != 0)
<a name="l00388"></a>00388         {
<a name="l00389"></a>00389         cout &lt;&lt; <span class="stringliteral">"*** KTR_init_problem() returned "</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">"\n"</span>;
<a name="l00390"></a>00390         <span class="keywordflow">return</span>( <span class="keyword">false</span> );
<a name="l00391"></a>00391         }
<a name="l00392"></a>00392 
<a name="l00393"></a>00393     <span class="keywordflow">return</span>( <span class="keyword">true</span> );
<a name="l00394"></a>00394 }<span class="comment">//loadProblemIntoKnitro</span>
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00397"></a>00397 <span class="comment">//  Method:  areDerivativesImplemented</span>
<a name="l00398"></a>00398 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00399"></a><a class="code" href="class_knitro_solver.html#d59f46e63393c9cf9496da1a3db95984">00399</a> <span class="keywordtype">bool</span>  <a class="code" href="class_knitro_solver.html#d59f46e63393c9cf9496da1a3db95984">KnitroSolver::areDerivativesImplemented</a>(<span class="keyword">const</span> DerivativesImplementedType  nWhichDers){
<a name="l00400"></a>00400      <span class="keywordflow">if</span> (nWhichDers == nCAN_COMPUTE_GA)
<a name="l00401"></a>00401         <span class="keywordflow">return</span>( <span class="keyword">true</span> );
<a name="l00402"></a>00402     <span class="keywordflow">if</span> (nWhichDers == nCAN_COMPUTE_H)
<a name="l00403"></a>00403         <span class="keywordflow">return</span>( <span class="keyword">true</span> );
<a name="l00404"></a>00404     <span class="keywordflow">if</span> (nWhichDers == nCAN_COMPUTE_HV)
<a name="l00405"></a>00405         <span class="keywordflow">return</span>( <span class="keyword">false</span>);
<a name="l00406"></a>00406     <span class="keywordflow">return</span>( <span class="keyword">false</span> );            
<a name="l00407"></a>00407 }<span class="comment">//areDerivativesImplemented</span>
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 
<a name="l00410"></a>00410 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00411"></a>00411 <span class="comment">//  Method:  evalFC</span>
<a name="l00412"></a>00412 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00413"></a><a class="code" href="class_knitro_solver.html#c65b4dd13f2df96e910e4ed9c39ec056">00413</a> <span class="keywordtype">int</span>  <a class="code" href="class_knitro_solver.html#c65b4dd13f2df96e910e4ed9c39ec056">KnitroSolver::evalFC</a> (<span class="keyword">const</span> <span class="keywordtype">double</span> * <span class="keyword">const</span>  daX,
<a name="l00414"></a>00414                          <span class="keywordtype">double</span> * <span class="keyword">const</span>  dObj,
<a name="l00415"></a>00415                          <span class="keywordtype">double</span> * <span class="keyword">const</span>  daC,
<a name="l00416"></a>00416                          <span class="keywordtype">void</span>   *        userParams){
<a name="l00417"></a>00417         <span class="keywordflow">try</span>{
<a name="l00418"></a>00418                 *dObj  = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#7c907324c7d9cc71dc46e4fbdf407b92" title="Calculate all of the objective function values.">calculateAllObjectiveFunctionValues</a>((<span class="keywordtype">double</span>*)daX, NULL, NULL, <span class="keyword">true</span>, 0 )[0];
<a name="l00419"></a>00419         }
<a name="l00420"></a>00420         <span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code" href="class_error_class.html" title="used for throwing exceptions.">ErrorClass</a>&amp; eclass){
<a name="l00421"></a>00421                 <a class="code" href="class_knitro_solver.html#feff96c67c1fb26881f0e5ad95c6ec7c">knitroErrorMsg</a> = eclass.<a class="code" href="class_error_class.html#bd8c251cf8ca561e581516ef2a377cb7" title="errormsg is the error that is causing the exception to be thrown">errormsg</a>;
<a name="l00422"></a>00422                 <span class="keywordflow">return</span> (-1);    
<a name="l00423"></a>00423         }
<a name="l00424"></a>00424         <span class="keywordflow">if</span>( <a class="code" href="class_common_util.html#88544e9fbfaa3d6a35b3af83a73ed7c9" title="encode the data in base 64">CommonUtil::ISOSNAN</a>( *dObj )) <span class="keywordflow">return</span> (-1);
<a name="l00425"></a>00425 
<a name="l00426"></a>00426 
<a name="l00427"></a>00427 
<a name="l00428"></a>00428         <span class="keywordflow">try</span>{
<a name="l00429"></a>00429                 <span class="keywordtype">double</span> *conVals = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#6259ae176871792db8a9c327b4dd729f" title="Calculate all of the constraint function values.">calculateAllConstraintFunctionValues</a>((<span class="keywordtype">double</span>*)daX, NULL, NULL, <span class="keyword">true</span>, 0 );
<a name="l00430"></a>00430                 <span class="keywordtype">int</span> i;
<a name="l00431"></a>00431                 <span class="keywordflow">for</span>(i = 0; i &lt; _nM; i++){
<a name="l00432"></a>00432                         <span class="keywordflow">if</span>( <a class="code" href="class_common_util.html#88544e9fbfaa3d6a35b3af83a73ed7c9" title="encode the data in base 64">CommonUtil::ISOSNAN</a>( (<span class="keywordtype">double</span>)conVals[ i] ) ) <span class="keywordflow">return</span> (-1);
<a name="l00433"></a>00433                         daC[i] = conVals[ i]  ; 
<a name="l00434"></a>00434                 } 
<a name="l00435"></a>00435         }
<a name="l00436"></a>00436         <span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code" href="class_error_class.html" title="used for throwing exceptions.">ErrorClass</a>&amp; eclass){
<a name="l00437"></a>00437                 <a class="code" href="class_knitro_solver.html#feff96c67c1fb26881f0e5ad95c6ec7c">knitroErrorMsg</a> = eclass.<a class="code" href="class_error_class.html#bd8c251cf8ca561e581516ef2a377cb7" title="errormsg is the error that is causing the exception to be thrown">errormsg</a>;
<a name="l00438"></a>00438                 <span class="keywordflow">return</span> (-1);  
<a name="l00439"></a>00439         }
<a name="l00440"></a>00440 
<a name="l00441"></a>00441 
<a name="l00442"></a>00442     <span class="keywordflow">return</span>( 0 );
<a name="l00443"></a>00443 }<span class="comment">//evalFC</span>
<a name="l00444"></a>00444 
<a name="l00445"></a>00445 
<a name="l00446"></a>00446 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00447"></a>00447 <span class="comment">//  Method:  evalGA</span>
<a name="l00448"></a>00448 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00449"></a><a class="code" href="class_knitro_solver.html#c983a7fd7dce4d045c0d8b1fbb2170be">00449</a> <span class="keywordtype">int</span>  <a class="code" href="class_knitro_solver.html#c983a7fd7dce4d045c0d8b1fbb2170be">KnitroSolver::evalGA</a> (<span class="keyword">const</span> <span class="keywordtype">double</span> * <span class="keyword">const</span>  daX,
<a name="l00450"></a>00450                          <span class="keywordtype">double</span> * <span class="keyword">const</span>  daG,
<a name="l00451"></a>00451                          <span class="keywordtype">double</span> * <span class="keyword">const</span>  daJ,
<a name="l00452"></a>00452                          <span class="keywordtype">void</span>   *        userParams){
<a name="l00453"></a>00453         <span class="keywordflow">try</span>{
<a name="l00454"></a>00454                 <span class="keywordtype">double</span> *objGrad = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#f15181bd753300bc010a3cd82fc5cf21" title="Calculate the gradient of all objective functions.">calculateAllObjectiveFunctionGradients</a>((<span class="keywordtype">double</span>*)daX, NULL, NULL, <span class="keyword">true</span>, 1 )[0];
<a name="l00455"></a>00455                 <span class="keywordtype">int</span> i;
<a name="l00456"></a>00456                 std::cout &lt;&lt; <span class="stringliteral">"EVALUATING OBJ GRADIENT"</span> &lt;&lt; std::endl;
<a name="l00457"></a>00457                 <span class="keywordflow">for</span>(i = 0; i &lt; _nN; i++){
<a name="l00458"></a>00458                         <span class="keywordflow">if</span>( <a class="code" href="class_common_util.html#88544e9fbfaa3d6a35b3af83a73ed7c9" title="encode the data in base 64">CommonUtil::ISOSNAN</a>( (<span class="keywordtype">double</span>)objGrad[ i] ) ) <span class="keywordflow">return</span> (-1);
<a name="l00459"></a>00459                         daG[i] = objGrad[ i]  ; 
<a name="l00460"></a>00460                 } 
<a name="l00461"></a>00461         }
<a name="l00462"></a>00462         <span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code" href="class_error_class.html" title="used for throwing exceptions.">ErrorClass</a>&amp; eclass){
<a name="l00463"></a>00463                 <a class="code" href="class_knitro_solver.html#feff96c67c1fb26881f0e5ad95c6ec7c">knitroErrorMsg</a> = eclass.<a class="code" href="class_error_class.html#bd8c251cf8ca561e581516ef2a377cb7" title="errormsg is the error that is causing the exception to be thrown">errormsg</a>;
<a name="l00464"></a>00464                 <span class="keywordflow">return</span> (-1);
<a name="l00465"></a>00465         }
<a name="l00466"></a>00466 
<a name="l00467"></a>00467         <a class="code" href="class_sparse_jacobian_matrix.html" title="a sparse Jacobian matrix data structure">SparseJacobianMatrix</a> *sparseJacobian;
<a name="l00468"></a>00468         std::cout &lt;&lt; <span class="stringliteral">"EVALUATING JACOBIAN"</span> &lt;&lt; std::endl; 
<a name="l00469"></a>00469         <span class="keywordflow">try</span>{
<a name="l00470"></a>00470                 sparseJacobian = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#01a69a926abc7c93ae00ac4a54abdd96" title="Calculate the gradient of all constraint functions.">calculateAllConstraintFunctionGradients</a>((<span class="keywordtype">double</span>*)daX, NULL, NULL,  <span class="keyword">true</span>, 1);
<a name="l00471"></a>00471         }
<a name="l00472"></a>00472         <span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code" href="class_error_class.html" title="used for throwing exceptions.">ErrorClass</a>&amp; eclass){
<a name="l00473"></a>00473                 <a class="code" href="class_knitro_solver.html#feff96c67c1fb26881f0e5ad95c6ec7c">knitroErrorMsg</a> = eclass.<a class="code" href="class_error_class.html#bd8c251cf8ca561e581516ef2a377cb7" title="errormsg is the error that is causing the exception to be thrown">errormsg</a>;
<a name="l00474"></a>00474                 <span class="keywordflow">return</span> (-1);
<a name="l00475"></a>00475         }
<a name="l00476"></a>00476         <span class="comment">//osinstance-&gt;getIterateResults( (double*)x, 0.0, NULL, -1, true,  1);</span>
<a name="l00477"></a>00477         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; _nNnzJ; i++){
<a name="l00478"></a>00478                 daJ[ i] = sparseJacobian-&gt;<a class="code" href="class_sparse_jacobian_matrix.html#be6730fbd3c057155c709af3f3543c1c" title="values holds a double array of nonzero partial derivatives">values</a>[i];
<a name="l00479"></a>00479                 <span class="comment">//daJ[ i] = osinstance-&gt;m_mdJacValue[ i];</span>
<a name="l00480"></a>00480                 cout &lt;&lt; <span class="stringliteral">"daJ[i]:!!!!!!!!!!!!  "</span> &lt;&lt;  daJ[ i] &lt;&lt; endl;
<a name="l00481"></a>00481                 <span class="comment">//cout &lt;&lt; "m_mdJacValue[ i]:!!!!!!!!!!!!  " &lt;&lt;  osinstance-&gt;m_mdJacValue[ i] &lt;&lt; endl;</span>
<a name="l00482"></a>00482         }
<a name="l00483"></a>00483 
<a name="l00484"></a>00484     <span class="keywordflow">return</span>( 0 );
<a name="l00485"></a>00485 }<span class="comment">//evalGA</span>
<a name="l00486"></a>00486 
<a name="l00487"></a>00487 
<a name="l00488"></a>00488 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00489"></a>00489 <span class="comment">//  Method:  evalH</span>
<a name="l00490"></a>00490 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00491"></a><a class="code" href="class_knitro_solver.html#7f5749d005ab7872a736b0ea2c8f263b">00491</a> <span class="keywordtype">int</span>  <a class="code" href="class_knitro_solver.html#7f5749d005ab7872a736b0ea2c8f263b">KnitroSolver::evalH</a> (<span class="keyword">const</span> <span class="keywordtype">double</span> * <span class="keyword">const</span>  daX,
<a name="l00492"></a>00492                   <span class="keyword">const</span> <span class="keywordtype">double</span> * <span class="keyword">const</span>  daLambda,
<a name="l00493"></a>00493                         <span class="keywordtype">double</span> * <span class="keyword">const</span>  daH,
<a name="l00494"></a>00494                         <span class="keywordtype">void</span>   *        userParams){
<a name="l00495"></a>00495         <a class="code" href="class_sparse_hessian_matrix.html" title="The in-memory representation of a SparseHessianMatrix..">SparseHessianMatrix</a> *sparseHessian;
<a name="l00496"></a>00496         <span class="keywordtype">int</span> i;
<a name="l00497"></a>00497         <span class="keywordtype">double</span>* objMultipliers = <span class="keyword">new</span> <span class="keywordtype">double</span>[1];
<a name="l00498"></a>00498         objMultipliers[0] = 1;
<a name="l00499"></a>00499         <span class="keywordflow">try</span>{
<a name="l00500"></a>00500                 sparseHessian = <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#df03cc497ad170fdda0be4d36782568e" title="Calculate the Hessian of the Lagrangian Expression Tree This method will build the...">calculateLagrangianHessian</a>((<span class="keywordtype">double</span>*)daX, objMultipliers, (<span class="keywordtype">double</span>*)daLambda ,  <span class="keyword">true</span>, 2);
<a name="l00501"></a>00501         }
<a name="l00502"></a>00502         <span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code" href="class_error_class.html" title="used for throwing exceptions.">ErrorClass</a>&amp; eclass){
<a name="l00503"></a>00503                 <a class="code" href="class_knitro_solver.html#feff96c67c1fb26881f0e5ad95c6ec7c">knitroErrorMsg</a> = eclass.<a class="code" href="class_error_class.html#bd8c251cf8ca561e581516ef2a377cb7" title="errormsg is the error that is causing the exception to be thrown">errormsg</a>;
<a name="l00504"></a>00504                 <span class="keywordflow">return</span> (-1);  
<a name="l00505"></a>00505         }
<a name="l00506"></a>00506         <span class="keywordflow">for</span>(i = 0; i &lt; _nNnzH; i++){
<a name="l00507"></a>00507                 daH[ i]  = *(sparseHessian-&gt;<a class="code" href="class_sparse_hessian_matrix.html#7800ede978ca7f6ad708a59ffbcb2f83" title="hessValues is a double array of the Hessian values.">hessValues</a> + i);
<a name="l00508"></a>00508                 std::cout &lt;&lt; <span class="stringliteral">"Hessian Value = "</span> &lt;&lt; daH[ i] &lt;&lt; std::endl;
<a name="l00509"></a>00509         }
<a name="l00510"></a>00510 
<a name="l00511"></a>00511     <span class="keywordflow">return</span>( 0 );
<a name="l00512"></a>00512 }<span class="comment">//evalH</span>
<a name="l00513"></a>00513 
<a name="l00514"></a>00514 
<a name="l00515"></a>00515 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00516"></a>00516 <span class="comment">//  Method:  evalHV</span>
<a name="l00517"></a>00517 <span class="comment">//--------------------------------------------------------------------</span>
<a name="l00518"></a><a class="code" href="class_knitro_solver.html#35d2e3579a44facb25bd387c62ade2e3">00518</a> <span class="keywordtype">int</span>  <a class="code" href="class_knitro_solver.html#35d2e3579a44facb25bd387c62ade2e3">KnitroSolver::evalHV</a> (<span class="keyword">const</span> <span class="keywordtype">double</span> * <span class="keyword">const</span>  daX,
<a name="l00519"></a>00519                    <span class="keyword">const</span> <span class="keywordtype">double</span> * <span class="keyword">const</span>  daLambda,
<a name="l00520"></a>00520                          <span class="keywordtype">double</span> * <span class="keyword">const</span>  daHV,
<a name="l00521"></a>00521                          <span class="keywordtype">void</span>   *        userParams){
<a name="l00522"></a>00522 
<a name="l00523"></a>00523     <span class="keywordflow">return</span>( 0 );
<a name="l00524"></a>00524 }<span class="comment">//evalHV</span>
<a name="l00525"></a>00525 
<a name="l00526"></a>00526 <span class="comment">//OS specific default solver methods</span>
<a name="l00527"></a>00527 
<a name="l00528"></a><a class="code" href="class_knitro_solver.html#2a23e75c5fbfb6f0e85b86cea607d122">00528</a> <span class="keywordtype">void</span> <a class="code" href="class_knitro_solver.html#2a23e75c5fbfb6f0e85b86cea607d122" title="solve results in an instance being read into the Knitro data structrues and optimized...">KnitroSolver::solve</a>() throw (<a class="code" href="class_error_class.html" title="used for throwing exceptions.">ErrorClass</a>) {
<a name="l00529"></a>00529         <span class="keywordflow">try</span>{
<a name="l00530"></a>00530                 <a class="code" href="class_o_si_l_reader.html" title="Used to read an OSiL string.">OSiLReader</a>* osilreader = NULL; 
<a name="l00531"></a>00531                 <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a> = <span class="keyword">new</span> <a class="code" href="class_o_s_result.html" title="The Result Class.">OSResult</a>();
<a name="l00532"></a>00532                 <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#d8722a62e9412c9e449995416ba30d71" title="osil holds the problem instance as a std::string">osil</a>.length() == 0 &amp;&amp; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a> == NULL) <span class="keywordflow">throw</span> ErrorClass(<span class="stringliteral">"there is no instance"</span>);
<a name="l00533"></a>00533                 clock_t start, finish;
<a name="l00534"></a>00534                 <span class="keywordtype">double</span> duration;
<a name="l00535"></a>00535                 start = clock();
<a name="l00536"></a>00536                 <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a> == NULL){
<a name="l00537"></a>00537                         osilreader = <span class="keyword">new</span> <a class="code" href="class_o_si_l_reader.html" title="Used to read an OSiL string.">OSiLReader</a>();
<a name="l00538"></a>00538                         <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a> = osilreader-&gt;<a class="code" href="class_o_si_l_reader.html#523f779a7597dfe59871f1a9bb0c8c2f" title="parse the OSiL model instance.">readOSiL</a>( &amp;<a class="code" href="class_default_solver.html#d8722a62e9412c9e449995416ba30d71" title="osil holds the problem instance as a std::string">osil</a>);
<a name="l00539"></a>00539                 }
<a name="l00540"></a>00540                 <a class="code" href="class_o_si_l_writer.html" title="Take an OSInstance object and write a string that validates against the OSiL schema...">OSiLWriter</a> osilwriter;
<a name="l00541"></a>00541                 <span class="comment">//cout &lt;&lt; osilwriter.writeOSiL( osinstance) &lt;&lt; endl;</span>
<a name="l00542"></a>00542                 <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#b8f6b8c1370e29b7fb78d833e7894902" title="Get variable number.">getVariableNumber</a>() &lt;= 0)<span class="keywordflow">throw</span> ErrorClass(<span class="stringliteral">"Knitro requires decision variables"</span>);
<a name="l00543"></a>00543                 finish = clock();
<a name="l00544"></a>00544                 duration = (double) (finish - start) / CLOCKS_PER_SEC;
<a name="l00545"></a>00545                 cout &lt;&lt; <span class="stringliteral">"Parsing took (seconds): "</span>&lt;&lt; duration &lt;&lt; endl;
<a name="l00546"></a>00546                 <span class="comment">//dataEchoCheck();</span>
<a name="l00547"></a>00547 
<a name="l00548"></a>00548                 <span class="comment">/***************now the Knitro invokation*********************/</span>
<a name="l00549"></a>00549                 <span class="comment">// Create a new instance of your nlp </span>
<a name="l00550"></a>00550                 NlpProblemDef *  pOptProb = <span class="keyword">this</span>;
<a name="l00551"></a>00551                 <span class="keywordtype">bool</span>             bWantToSolve;
<a name="l00552"></a>00552 
<a name="l00553"></a>00553                 <span class="comment">//---- OPEN A NEW INSTANCE OF KNITRO.</span>
<a name="l00554"></a>00554                 KTR_context_ptr  kc;
<a name="l00555"></a>00555                 kc = KTR_new();
<a name="l00556"></a>00556                 <span class="keywordflow">if</span> (kc == NULL){
<a name="l00557"></a>00557                         cout &lt;&lt; <span class="stringliteral">"*** KTR_new failed, maybe a license issue?\n"</span>;
<a name="l00558"></a>00558                         exit( EXIT_FAILURE );
<a name="l00559"></a>00559         }
<a name="l00560"></a>00560 
<a name="l00561"></a>00561                 <span class="comment">//---- APPLY ANY USER OPTIONS (PROCEED EVEN IF THERE IS AN ERROR).</span>
<a name="l00562"></a>00562                 KTR_load_param_file (kc, <span class="stringliteral">"knitro.opt"</span>);
<a name="l00563"></a>00563 
<a name="l00564"></a>00564                 <span class="comment">//---- LOAD THE PROBLEM INTO KNITRO.</span>
<a name="l00565"></a>00565                 <span class="keywordflow">if</span> (pOptProb-&gt;loadProblemIntoKnitro (kc) == <span class="keyword">false</span>){
<a name="l00566"></a>00566                         cout &lt;&lt; <span class="stringliteral">"*** loadProblemIntoKnitro failed\n"</span>;
<a name="l00567"></a>00567                         exit( EXIT_FAILURE );
<a name="l00568"></a>00568         }
<a name="l00569"></a>00569 
<a name="l00570"></a>00570                 <span class="comment">//---- SET CALLBACK POINTERS FOR EVALUATION OF PROBLEM INFORMATION.</span>
<a name="l00571"></a>00571                 <span class="comment">//---- IF THE TEST CODE DOES NOT SUPPLY DERIVATIVES, THEN THE</span>
<a name="l00572"></a>00572                 <span class="comment">//---- USER OPTIONS IN "knitro.opt" SHOULD REQUEST AN ALTERNATIVE,</span>
<a name="l00573"></a>00573                 <span class="comment">//---- SUCH AS FINITE DIFFERENCES.</span>
<a name="l00574"></a>00574             <a class="code" href="_knitro_solver_8cpp.html#fe218f29c9620df0da17ba5be845d11b">g_pOptProblem</a> = pOptProb;
<a name="l00575"></a>00575                 <span class="keywordflow">if</span> (KTR_set_func_callback (kc, <a class="code" href="_knitro_solver_8cpp.html#cc862fefe83775c0428a2a04cec1586c">wrapperEvalFC</a>) != 0){
<a name="l00576"></a>00576                         cout &lt;&lt; <span class="stringliteral">"*** KTR_set_func_callback failed\n"</span>;
<a name="l00577"></a>00577                         exit( EXIT_FAILURE );
<a name="l00578"></a>00578                 }
<a name="l00579"></a>00579                 <span class="keywordflow">if</span> (pOptProb-&gt;areDerivativesImplemented (nCAN_COMPUTE_GA) == <span class="keyword">true</span>){
<a name="l00580"></a>00580                         <span class="keywordflow">if</span> (KTR_set_grad_callback (kc, <a class="code" href="_knitro_solver_8cpp.html#122fbc1525a58a7ee1e57b7c944af192" title="By necessity this wrapper signature matches the function KTR_callback.">wrapperEvalGA</a>) != 0){
<a name="l00581"></a>00581                                 cout &lt;&lt; <span class="stringliteral">"*** KTR_set_grad_callback failed\n"</span>;
<a name="l00582"></a>00582                                 exit( EXIT_FAILURE );
<a name="l00583"></a>00583                         }
<a name="l00584"></a>00584         }
<a name="l00585"></a>00585             <span class="keywordflow">if</span> ((pOptProb-&gt;areDerivativesImplemented (nCAN_COMPUTE_H) == <span class="keyword">true</span>)
<a name="l00586"></a>00586                         || (pOptProb-&gt;areDerivativesImplemented (nCAN_COMPUTE_HV) == <span class="keyword">true</span>)){
<a name="l00587"></a>00587                         <span class="keywordflow">if</span> (KTR_set_hess_callback (kc, <a class="code" href="_knitro_solver_8cpp.html#e53911c88ed1e5712934187c7983e395" title="By necessity this wrapper signature matches the function KTR_callback.">wrapperEvalHorHV</a>) != 0){
<a name="l00588"></a>00588             cout &lt;&lt; <span class="stringliteral">"*** KTR_set_hess_callback failed\n"</span>;
<a name="l00589"></a>00589             exit( EXIT_FAILURE );
<a name="l00590"></a>00590             }
<a name="l00591"></a>00591         }
<a name="l00592"></a>00592 
<a name="l00593"></a>00593                 <span class="comment">//---- ALLOCATE ARRAYS</span>
<a name="l00594"></a>00594                 <span class="keywordtype">double</span> *  daX      = <span class="keyword">new</span> <span class="keywordtype">double</span>[pOptProb-&gt;getN()];
<a name="l00595"></a>00595                 <span class="keywordtype">double</span> *  daLambda = <span class="keyword">new</span> <span class="keywordtype">double</span>[pOptProb-&gt;getM() + pOptProb-&gt;getN()];
<a name="l00596"></a>00596                 bWantToSolve = <span class="keyword">true</span>;
<a name="l00597"></a>00597                 <span class="keywordflow">if</span> (bWantToSolve == <span class="keyword">true</span>){
<a name="l00598"></a>00598                         <span class="comment">//---- CALL KNITRO AND SOLVE.</span>
<a name="l00599"></a>00599                         <span class="keywordtype">double</span>  dFinalObj;
<a name="l00600"></a>00600                         <span class="keywordtype">int</span>  nStatus = KTR_solve (kc, daX, daLambda, 0, &amp;dFinalObj,
<a name="l00601"></a>00601                                                                         NULL, NULL, NULL, NULL, NULL, NULL);
<a name="l00602"></a>00602                         std::cout &lt;&lt; <span class="stringliteral">"dFinalObj =  "</span> &lt;&lt; dFinalObj &lt;&lt; std::endl;
<a name="l00603"></a>00603                         cout &lt;&lt; <span class="stringliteral">"*** Final KNITRO status = "</span> &lt;&lt; nStatus &lt;&lt; <span class="stringliteral">"\n"</span>;
<a name="l00604"></a>00604                         cout &lt;&lt; <span class="stringliteral">"dax[0] = "</span> &lt;&lt; daX[0] &lt;&lt; <span class="stringliteral">"\n"</span>;
<a name="l00605"></a>00605 
<a name="l00606"></a>00606                         <span class="comment">//construct osresult</span>
<a name="l00607"></a>00607                         <span class="keywordtype">int</span> solIdx = 0;
<a name="l00608"></a>00608                         <span class="keywordtype">double</span>* mdObjValues = <span class="keyword">new</span> <span class="keywordtype">double</span>[1];
<a name="l00609"></a>00609                         std::string message = <span class="stringliteral">"Knitro solver finishes to the end."</span>;
<a name="l00610"></a>00610                         std::string solutionDescription = <span class="stringliteral">""</span>;   
<a name="l00611"></a>00611 
<a name="l00612"></a>00612                         <span class="comment">// resultHeader infomration</span>
<a name="l00613"></a>00613                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#902f35fa5aae007b3e1c224d8b46c109" title="Set service name.">setServiceName</a>( <span class="stringliteral">"Knitro solver service"</span>) != <span class="keyword">true</span>)
<a name="l00614"></a>00614                                 <span class="keywordflow">throw</span> ErrorClass(<span class="stringliteral">"OSResult error: setServiceName"</span>);
<a name="l00615"></a>00615                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#30da5949ffb71e756b64bf894999fb55" title="Set instance name.">setInstanceName</a>(  <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#cfab6e397ff3950339407ccae2021a7a" title="Get instance name.">getInstanceName</a>()) != <span class="keyword">true</span>)
<a name="l00616"></a>00616                                 <span class="keywordflow">throw</span> ErrorClass(<span class="stringliteral">"OSResult error: setInstanceName"</span>);
<a name="l00617"></a>00617 
<a name="l00618"></a>00618                         <span class="comment">//if(osresult-&gt;setJobID( osoption-&gt;jobID) != true)</span>
<a name="l00619"></a>00619                         <span class="comment">//      throw ErrorClass("OSResult error: setJobID");</span>
<a name="l00620"></a>00620 
<a name="l00621"></a>00621                         <span class="comment">// set basic problem parameters</span>
<a name="l00622"></a>00622                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#994dc7018f7cb53afb769d70fac216fb" title="Set the variable number.">setVariableNumber</a>( <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#b8f6b8c1370e29b7fb78d833e7894902" title="Get variable number.">getVariableNumber</a>()) != <span class="keyword">true</span>)
<a name="l00623"></a>00623                                 <span class="keywordflow">throw</span> ErrorClass(<span class="stringliteral">"OSResult error: setVariableNumer"</span>);
<a name="l00624"></a>00624                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#564689a8443fa40a01f918e80b662d8e" title="Set the objective number.">setObjectiveNumber</a>( 1) != <span class="keyword">true</span>)
<a name="l00625"></a>00625                                 <span class="keywordflow">throw</span> ErrorClass(<span class="stringliteral">"OSResult error: setObjectiveNumber"</span>);
<a name="l00626"></a>00626                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#d089f4e7722cbe60785cf78bc80dd1b4" title="Set the constraint number.">setConstraintNumber</a>( <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#5b34a8fd088ca0fa4154b602930726b3" title="Get constraint number.">getConstraintNumber</a>()) != <span class="keyword">true</span>)
<a name="l00627"></a>00627                                 <span class="keywordflow">throw</span> ErrorClass(<span class="stringliteral">"OSResult error: setConstraintNumber"</span>);
<a name="l00628"></a>00628                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#264fb010882e78257e48a990f17b5373" title="set the number of solutions.">setSolutionNumber</a>(  1) != <span class="keyword">true</span>)
<a name="l00629"></a>00629                                 <span class="keywordflow">throw</span> ErrorClass(<span class="stringliteral">"OSResult error: setSolutionNumer"</span>);   
<a name="l00630"></a>00630 
<a name="l00631"></a>00631 
<a name="l00632"></a>00632                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#0b6d244024d8acf19c8249d1bf0d4f1e" title="Set the general message.">setGeneralMessage</a>( message) != <span class="keyword">true</span>)
<a name="l00633"></a>00633                                 <span class="keywordflow">throw</span> ErrorClass(<span class="stringliteral">"OSResult error: setGeneralMessage"</span>);
<a name="l00634"></a>00634                 std::cout &lt;&lt; <span class="stringliteral">"START CASES  "</span> &lt;&lt; 0 &lt;&lt; endl;
<a name="l00635"></a>00635                         <span class="keywordflow">switch</span>( nStatus){
<a name="l00636"></a>00636                                 <span class="keywordflow">case</span> 0:
<a name="l00637"></a>00637                                         std::cout &lt;&lt; <span class="stringliteral">"WE ARE IN CASE "</span> &lt;&lt; 0 &lt;&lt; endl;
<a name="l00638"></a>00638                                         solutionDescription = <span class="stringliteral">"LOCALLY OPTIMAL SOLUTION FOUND[KNITRO STATUS 0]: Knitro found a locally optimal point which satisfies the stopping criterion.If the problem is convex (for example, a linear program), then this point corresponds to a globally optimal solution."</span>;
<a name="l00639"></a>00639                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"locallyOptimal"</span>, solutionDescription);
<a name="l00640"></a>00640                                         std::cout &lt;&lt; <span class="stringliteral">"SET SOLUTION STATUS "</span> &lt;&lt; endl;
<a name="l00641"></a>00641                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#6c65b443283a54be9f451a098656f9c3" title="Set the [i]th optimization solution&amp;#39;s primal variable values, where i equals...">setPrimalVariableValues</a>(solIdx, daX);
<a name="l00642"></a>00642                                         std::cout &lt;&lt; <span class="stringliteral">"SET PRIMAL VALUES "</span> &lt;&lt; endl;
<a name="l00643"></a>00643                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#157e72dc210e6e51d51d621a94c0ada9" title="Set the [i]th optimization solution&amp;#39;s dual variable values, where i equals the...">setDualVariableValues</a>(solIdx, daLambda);
<a name="l00644"></a>00644                                         mdObjValues[0] = dFinalObj;
<a name="l00645"></a>00645                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#1170effde93ef14f4286e9811c784764" title="Set the [i]th optimization solution&amp;#39;s objective values, where i equals the given...">setObjectiveValues</a>(solIdx, mdObjValues);
<a name="l00646"></a>00646                                         std::cout &lt;&lt; <span class="stringliteral">"SET OBJECTIVE VALUES "</span> &lt;&lt; endl;
<a name="l00647"></a>00647                                 <span class="keywordflow">break</span>;
<a name="l00648"></a>00648                                 <span class="keywordflow">case</span> -1:
<a name="l00649"></a>00649                                         solutionDescription = <span class="stringliteral">"Iteration limit reached[KNITRO STATUS -1]: The iteration limit was reached before being able to satisfy the required stopping criteria."</span>;
<a name="l00650"></a>00650                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"stoppedByLimit"</span>, solutionDescription);
<a name="l00651"></a>00651                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#6c65b443283a54be9f451a098656f9c3" title="Set the [i]th optimization solution&amp;#39;s primal variable values, where i equals...">setPrimalVariableValues</a>(solIdx, daX);
<a name="l00652"></a>00652                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#157e72dc210e6e51d51d621a94c0ada9" title="Set the [i]th optimization solution&amp;#39;s dual variable values, where i equals the...">setDualVariableValues</a>(solIdx, daLambda);
<a name="l00653"></a>00653                                         mdObjValues[0] = dFinalObj;
<a name="l00654"></a>00654                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#1170effde93ef14f4286e9811c784764" title="Set the [i]th optimization solution&amp;#39;s objective values, where i equals the given...">setObjectiveValues</a>(solIdx, mdObjValues);
<a name="l00655"></a>00655                                 <span class="keywordflow">break</span>;
<a name="l00656"></a>00656                                 <span class="keywordflow">case</span> -2:
<a name="l00657"></a>00657                                         solutionDescription = <span class="stringliteral">"Convergence to an infeasible point[KNITRO STATUS -2]: Problem may be locally infeasible.The algorithm has converged to an infeasible point from which it cannot further decrease the infeasibility measure. This happens when the problem is infeasible, but may also occur on occasion for feasible problems with nonlinear constraints or badly scaled problems. It is recommended to try various initial points. If this occurs for a variety of initial points, it is likely the problem is infeasible."</span>;
<a name="l00658"></a>00658                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"infeasible"</span>, solutionDescription);
<a name="l00659"></a>00659                                 <span class="keywordflow">break</span>;
<a name="l00660"></a>00660                                 <span class="keywordflow">case</span> -3:
<a name="l00661"></a>00661                                         solutionDescription = <span class="stringliteral">"Problem appears to be unbounded[KNITRO STATUS -3]: Iterate is feasible and objective magnitude &gt; objrange. The objective function appears to be decreasing without bound, while satisfying the constraints.If the problem really is bounded, increase the size of the parameter objrange to avoid terminating with this message."</span>;
<a name="l00662"></a>00662                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"unbounded"</span>, solutionDescription);
<a name="l00663"></a>00663                                 <span class="keywordflow">break</span>;
<a name="l00664"></a>00664                                 <span class="keywordflow">case</span> -4:
<a name="l00665"></a>00665                                         solutionDescription = <span class="stringliteral">"Relative change in solution estimate &lt; xtol[KNITRO STATUS -4]: The relative change in the solution estimate is less than that specified by the paramater xtol.To try to get more accuracy one may decrease xtol. If xtol is very small already, it is an indication that no more significant progress can be made. If the current point is feasible, it is possible it may be optimal, however the stopping tests cannot be satisfied (perhaps because of degeneracy, ill-conditioning or bad scaling)."</span>;
<a name="l00666"></a>00666                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"stoppedByLimit"</span>, solutionDescription);
<a name="l00667"></a>00667                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#6c65b443283a54be9f451a098656f9c3" title="Set the [i]th optimization solution&amp;#39;s primal variable values, where i equals...">setPrimalVariableValues</a>(solIdx, daX);
<a name="l00668"></a>00668                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#157e72dc210e6e51d51d621a94c0ada9" title="Set the [i]th optimization solution&amp;#39;s dual variable values, where i equals the...">setDualVariableValues</a>(solIdx, daLambda);
<a name="l00669"></a>00669                                         mdObjValues[0] = dFinalObj;
<a name="l00670"></a>00670                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#1170effde93ef14f4286e9811c784764" title="Set the [i]th optimization solution&amp;#39;s objective values, where i equals the given...">setObjectiveValues</a>(solIdx, mdObjValues);
<a name="l00671"></a>00671                                 <span class="keywordflow">break</span>;
<a name="l00672"></a>00672                                 <span class="keywordflow">case</span> -5:
<a name="l00673"></a>00673                                         solutionDescription = <span class="stringliteral">"Current solution estimate cannot be improved. Point appears to be optimal, but desired accuracy could not be achieved.[KNITRO  STATUS -5]: No more progress can be made, but the stopping tests are close to being satisfied (within a factor of 100) and so the current approximate solution is believed to be optimal."</span>;
<a name="l00674"></a>00674                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"locallyOptimal"</span>, solutionDescription);
<a name="l00675"></a>00675                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#6c65b443283a54be9f451a098656f9c3" title="Set the [i]th optimization solution&amp;#39;s primal variable values, where i equals...">setPrimalVariableValues</a>(solIdx, daX);
<a name="l00676"></a>00676                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#157e72dc210e6e51d51d621a94c0ada9" title="Set the [i]th optimization solution&amp;#39;s dual variable values, where i equals the...">setDualVariableValues</a>(solIdx, daLambda);
<a name="l00677"></a>00677                                         mdObjValues[0] = dFinalObj;
<a name="l00678"></a>00678                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#1170effde93ef14f4286e9811c784764" title="Set the [i]th optimization solution&amp;#39;s objective values, where i equals the given...">setObjectiveValues</a>(solIdx, mdObjValues);
<a name="l00679"></a>00679                                 <span class="keywordflow">break</span>;
<a name="l00680"></a>00680                                 <span class="keywordflow">case</span> -6:
<a name="l00681"></a>00681                                         solutionDescription = <span class="stringliteral">"Time limit reached[KNITRO STATUS -6]: The time limit was reached before being able to satisfy the required stopping criteria."</span>;
<a name="l00682"></a>00682                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"stoppedByLimit"</span>, solutionDescription);
<a name="l00683"></a>00683                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#6c65b443283a54be9f451a098656f9c3" title="Set the [i]th optimization solution&amp;#39;s primal variable values, where i equals...">setPrimalVariableValues</a>(solIdx, daX);
<a name="l00684"></a>00684                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#157e72dc210e6e51d51d621a94c0ada9" title="Set the [i]th optimization solution&amp;#39;s dual variable values, where i equals the...">setDualVariableValues</a>(solIdx, daLambda);
<a name="l00685"></a>00685                                         mdObjValues[0] = dFinalObj;
<a name="l00686"></a>00686                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#1170effde93ef14f4286e9811c784764" title="Set the [i]th optimization solution&amp;#39;s objective values, where i equals the given...">setObjectiveValues</a>(solIdx, mdObjValues);
<a name="l00687"></a>00687                                 <span class="keywordflow">break</span>;
<a name="l00688"></a>00688                                 <span class="keywordflow">case</span> -50:
<a name="l00689"></a>00689                                 <span class="keywordflow">case</span> -51:
<a name="l00690"></a>00690                                 <span class="keywordflow">case</span> -52:
<a name="l00691"></a>00691                                 <span class="keywordflow">case</span> -53:
<a name="l00692"></a>00692                                 <span class="keywordflow">case</span> -54:
<a name="l00693"></a>00693                                 <span class="keywordflow">case</span> -55:
<a name="l00694"></a>00694                                 <span class="keywordflow">case</span> -56:
<a name="l00695"></a>00695                                 <span class="keywordflow">case</span> -57:
<a name="l00696"></a>00696                                 <span class="keywordflow">case</span> -58:
<a name="l00697"></a>00697                                 <span class="keywordflow">case</span> -59:
<a name="l00698"></a>00698                                 <span class="keywordflow">case</span> -60:
<a name="l00699"></a>00699                                         solutionDescription = <span class="stringliteral">"Input Error[KNITRO STATUS -50 to -60]: Termination values in this range imply some input error. If outlev&gt;0 details of this error will be printed to standard output or the file knitro.log depending on the value of outmode."</span>;
<a name="l00700"></a>00700                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"error"</span>, solutionDescription);
<a name="l00701"></a>00701                                 <span class="keywordflow">break</span>;
<a name="l00702"></a>00702                                 <span class="keywordflow">case</span> -90:
<a name="l00703"></a>00703                                         solutionDescription = <span class="stringliteral">"Callback function error[KNITRO STATUS -90]: This termination value indicates that an error (i.e., negative return value) occurred in a user provided callback routine."</span>;
<a name="l00704"></a>00704                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"error"</span>, solutionDescription);
<a name="l00705"></a>00705                                 <span class="keywordflow">break</span>;
<a name="l00706"></a>00706                                 <span class="keywordflow">case</span> -97:
<a name="l00707"></a>00707                                         solutionDescription = <span class="stringliteral">"LP solver error[KNITRO STATUS -97]: This termination value indicates that an unrecoverable error occurred in the LP solver used in the active-set algorithm preventing the optimization from continuing."</span>;
<a name="l00708"></a>00708                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"error"</span>, solutionDescription);
<a name="l00709"></a>00709                                 <span class="keywordflow">break</span>;
<a name="l00710"></a>00710                                 <span class="keywordflow">case</span> -98:
<a name="l00711"></a>00711                                         solutionDescription = <span class="stringliteral">"Evaluation error[KNITRO STATUS -98]: This termination value indicates that an evaluation error occurred (e.g., divide by 0, taking the square root of a negative number), preventing the optimization from continuing."</span>;
<a name="l00712"></a>00712                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"error"</span>, solutionDescription);
<a name="l00713"></a>00713                                 <span class="keywordflow">break</span>;
<a name="l00714"></a>00714                                 <span class="keywordflow">case</span> -99:
<a name="l00715"></a>00715                                         solutionDescription = <span class="stringliteral">"Not enough memory available to solve problem[KNITRO STATUS -99]: This termination value indicates that there was not enough memory available to solve the problem."</span>;
<a name="l00716"></a>00716                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"error"</span>, solutionDescription);
<a name="l00717"></a>00717                                 <span class="keywordflow">break</span>;
<a name="l00718"></a>00718                                 <span class="keywordflow">default</span>:
<a name="l00719"></a>00719                                         solutionDescription = <span class="stringliteral">"OTHER[KNITRO]: other unknown solution status from Knitro solver"</span>;
<a name="l00720"></a>00720                                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#c043fbb3f1b5ea4066420999aca20297" title="Set the [i]th optimization solution status, where i equals the given solution index...">setSolutionStatus</a>(solIdx,  <span class="stringliteral">"other"</span>, solutionDescription);
<a name="l00721"></a>00721                         }
<a name="l00722"></a>00722 
<a name="l00723"></a>00723                         <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#51f918c58bc178dfe3cce6d2001e7c8d" title="Set the general status type, which can be: success, error, warning.">setGeneralStatusType</a>(<span class="stringliteral">"success"</span>);
<a name="l00724"></a>00724                         <a class="code" href="class_default_solver.html#a4dfeabaeef84cb909e54a2998fe28a5" title="osrl holds the solution or result of the model">osrl</a> = <a class="code" href="class_knitro_solver.html#8fbcc96310090fce9ab0e18b5f9bc936">osrlwriter</a>-&gt;<a class="code" href="class_o_sr_l_writer.html#4ae35ad87b60c7b730720d3601475044" title="create an osrl string from an OSResult object">writeOSrL</a>( <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>);
<a name="l00725"></a>00725                 }
<a name="l00726"></a>00726                 <span class="keywordflow">else</span>{
<a name="l00727"></a>00727                         <span class="comment">//---- USE KNITRO TO CHECK THE DERIVATIVES CODED IN THE TEST PROBLEM.</span>
<a name="l00728"></a>00728                         pOptProb-&gt;getInitialX (daX);
<a name="l00729"></a>00729                         KTR_check_first_ders (kc, daX, 2, 1.0e-14, 1.0e-14,
<a name="l00730"></a>00730                                                                 0, 0.0, NULL, NULL, NULL, NULL);
<a name="l00731"></a>00731                 }
<a name="l00732"></a>00732                 
<a name="l00733"></a>00733 
<a name="l00734"></a>00734                 <span class="keyword">delete</span> [] daX;
<a name="l00735"></a>00735                 <span class="keyword">delete</span> [] daLambda;
<a name="l00736"></a>00736 
<a name="l00737"></a>00737                 KTR_free (&amp;kc);
<a name="l00738"></a>00738 
<a name="l00739"></a>00739                 <span class="comment">//delete pOptProb;</span>
<a name="l00740"></a>00740                 <span class="comment">//return( EXIT_SUCCESS );       //to do</span>
<a name="l00741"></a>00741         }
<a name="l00742"></a>00742         <span class="keywordflow">catch</span>(<span class="keyword">const</span> ErrorClass&amp; eclass){
<a name="l00743"></a>00743                 <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#0b6d244024d8acf19c8249d1bf0d4f1e" title="Set the general message.">setGeneralMessage</a>( eclass.<a class="code" href="class_error_class.html#bd8c251cf8ca561e581516ef2a377cb7" title="errormsg is the error that is causing the exception to be thrown">errormsg</a>);
<a name="l00744"></a>00744                 <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>-&gt;<a class="code" href="class_o_s_result.html#51f918c58bc178dfe3cce6d2001e7c8d" title="Set the general status type, which can be: success, error, warning.">setGeneralStatusType</a>( <span class="stringliteral">"error"</span>);
<a name="l00745"></a>00745                 <a class="code" href="class_default_solver.html#a4dfeabaeef84cb909e54a2998fe28a5" title="osrl holds the solution or result of the model">osrl</a> = <a class="code" href="class_knitro_solver.html#8fbcc96310090fce9ab0e18b5f9bc936">osrlwriter</a>-&gt;<a class="code" href="class_o_sr_l_writer.html#4ae35ad87b60c7b730720d3601475044" title="create an osrl string from an OSResult object">writeOSrL</a>( <a class="code" href="class_default_solver.html#fbc246f4c09d25092f73525d2baa09bf" title="osresult holds the solution or result of the model in-memory as an OSResult object...">osresult</a>);
<a name="l00746"></a>00746                 <span class="comment">//throw ErrorClass( osrl) ; //to do</span>
<a name="l00747"></a>00747         }
<a name="l00748"></a>00748 }<span class="comment">//solve</span>
<a name="l00749"></a>00749 
<a name="l00750"></a>00750 
<a name="l00751"></a><a class="code" href="class_knitro_solver.html#5e765b67571f72aa3f29521f859b034e">00751</a> <span class="keywordtype">void</span> <a class="code" href="class_knitro_solver.html#5e765b67571f72aa3f29521f859b034e" title="use this for debugging, print out the instance that the solver thinks it has and...">KnitroSolver::dataEchoCheck</a>(){
<a name="l00752"></a>00752         
<a name="l00753"></a>00753         <span class="keywordtype">int</span> i;
<a name="l00754"></a>00754         
<a name="l00755"></a>00755         <span class="comment">// print out problem parameters</span>
<a name="l00756"></a>00756         cout &lt;&lt; <span class="stringliteral">"This is problem:  "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#cfab6e397ff3950339407ccae2021a7a" title="Get instance name.">getInstanceName</a>() &lt;&lt; endl;
<a name="l00757"></a>00757         cout &lt;&lt; <span class="stringliteral">"The problem source is:  "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#4ca1826ff6cdc0a2e20612f5ff9fbe6f" title="Get instance source.">getInstanceSource</a>() &lt;&lt; endl;
<a name="l00758"></a>00758         cout &lt;&lt; <span class="stringliteral">"The problem description is:  "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#4c72bf9d5f3f29426b62703f362a1ce5" title="Get instance description.">getInstanceDescription</a>() &lt;&lt; endl;
<a name="l00759"></a>00759         cout &lt;&lt; <span class="stringliteral">"number of variables = "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#b8f6b8c1370e29b7fb78d833e7894902" title="Get variable number.">getVariableNumber</a>() &lt;&lt; endl;
<a name="l00760"></a>00760         cout &lt;&lt; <span class="stringliteral">"number of Rows = "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#5b34a8fd088ca0fa4154b602930726b3" title="Get constraint number.">getConstraintNumber</a>() &lt;&lt; endl;
<a name="l00761"></a>00761 
<a name="l00762"></a>00762         <span class="comment">// print out the variable information</span>
<a name="l00763"></a>00763         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#b8f6b8c1370e29b7fb78d833e7894902" title="Get variable number.">getVariableNumber</a>() &gt; 0){
<a name="l00764"></a>00764                 <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#b8f6b8c1370e29b7fb78d833e7894902" title="Get variable number.">getVariableNumber</a>(); i++){
<a name="l00765"></a>00765                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#c8e38e25771552c46f4f2246756d806b" title="Get variable names.">getVariableNames</a>() != NULL) cout &lt;&lt; <span class="stringliteral">"variable Names  "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#c8e38e25771552c46f4f2246756d806b" title="Get variable names.">getVariableNames</a>()[ i]  &lt;&lt; endl;
<a name="l00766"></a>00766                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#7aa0fd6200f01113ea922de88cac93f3" title="Get variable types.">getVariableTypes</a>() != NULL) cout &lt;&lt; <span class="stringliteral">"variable Types  "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#7aa0fd6200f01113ea922de88cac93f3" title="Get variable types.">getVariableTypes</a>()[ i]  &lt;&lt; endl;
<a name="l00767"></a>00767                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#b7d75f3732e902f64aad9e34c1aab2cb" title="Get variable lower bounds.">getVariableLowerBounds</a>() != NULL) cout &lt;&lt; <span class="stringliteral">"variable Lower Bounds  "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#b7d75f3732e902f64aad9e34c1aab2cb" title="Get variable lower bounds.">getVariableLowerBounds</a>()[ i]  &lt;&lt; endl;
<a name="l00768"></a>00768                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#1d6f4b426e8b3bbf48805b0cf4626f7a" title="Get variable upper bounds.">getVariableUpperBounds</a>() != NULL) cout &lt;&lt; <span class="stringliteral">"variable Upper Bounds  "</span> &lt;&lt;  <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#1d6f4b426e8b3bbf48805b0cf4626f7a" title="Get variable upper bounds.">getVariableUpperBounds</a>()[i] &lt;&lt; endl;
<a name="l00769"></a>00769                 }
<a name="l00770"></a>00770         }
<a name="l00771"></a>00771         
<a name="l00772"></a>00772         <span class="comment">// print out objective function information</span>
<a name="l00773"></a>00773         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#b8f6b8c1370e29b7fb78d833e7894902" title="Get variable number.">getVariableNumber</a>() &gt; 0 || <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#a49d78552f0aa386b44ca5f87f8c3ba3" title="A pointer to an InstanceData object.">instanceData</a>-&gt;<a class="code" href="class_instance_data.html#3cc1747f1f0b1b964a63d9639498b938" title="objectives is a pointer to a Objectives object">objectives</a>-&gt;<a class="code" href="class_objectives.html#130da6b6e3091b88546120d7601e57a8" title="coef is pointer to an array of ObjCoef object pointers">obj</a> != NULL || <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#a49d78552f0aa386b44ca5f87f8c3ba3" title="A pointer to an InstanceData object.">instanceData</a>-&gt;<a class="code" href="class_instance_data.html#3cc1747f1f0b1b964a63d9639498b938" title="objectives is a pointer to a Objectives object">objectives</a>-&gt;<a class="code" href="class_objectives.html#2bd58ee218fc5238a0e65a5c80204590" title="numberOfObjectives is the number of objective functions in the instance">numberOfObjectives</a> &gt; 0){
<a name="l00774"></a>00774                 <span class="keywordflow">if</span>( <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#ee6f4ebfd6b51ae89c5457ecca7e1819" title="Get objective maxOrMins.">getObjectiveMaxOrMins</a>()[0] == <span class="stringliteral">"min"</span>)  cout &lt;&lt;  <span class="stringliteral">"problem is a minimization"</span> &lt;&lt; endl;
<a name="l00775"></a>00775                 <span class="keywordflow">else</span> cout &lt;&lt;  <span class="stringliteral">"problem is a maximization"</span> &lt;&lt; endl;
<a name="l00776"></a>00776                 <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#b8f6b8c1370e29b7fb78d833e7894902" title="Get variable number.">getVariableNumber</a>(); i++){
<a name="l00777"></a>00777                         cout &lt;&lt; <span class="stringliteral">"OBJ COEFFICIENT =  "</span> &lt;&lt;  <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#956c05b92c380b107a621d392eeef86e" title="getDenseObjectiveCoefficients.">getDenseObjectiveCoefficients</a>()[0][i] &lt;&lt; endl;
<a name="l00778"></a>00778                 }
<a name="l00779"></a>00779         }
<a name="l00780"></a>00780         <span class="comment">// print out constraint information</span>
<a name="l00781"></a>00781         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#5b34a8fd088ca0fa4154b602930726b3" title="Get constraint number.">getConstraintNumber</a>() &gt; 0){
<a name="l00782"></a>00782                 <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#5b34a8fd088ca0fa4154b602930726b3" title="Get constraint number.">getConstraintNumber</a>(); i++){
<a name="l00783"></a>00783                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#df7ece1667f3512b60be4bb147c5d5b6" title="Get constraint names.">getConstraintNames</a>() != NULL) cout &lt;&lt; <span class="stringliteral">"row name = "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#df7ece1667f3512b60be4bb147c5d5b6" title="Get constraint names.">getConstraintNames</a>()[i] &lt;&lt;  endl;
<a name="l00784"></a>00784                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#12be8902c36a63c13fb23513ccdca759" title="Get constraint lower bounds.">getConstraintLowerBounds</a>() != NULL) cout &lt;&lt; <span class="stringliteral">"row lower bound = "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#12be8902c36a63c13fb23513ccdca759" title="Get constraint lower bounds.">getConstraintLowerBounds</a>()[i] &lt;&lt;  endl;
<a name="l00785"></a>00785                         <span class="keywordflow">if</span>(<a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#f2264e765343f693b58ea744ac6785e1" title="Get constraint upper bounds.">getConstraintUpperBounds</a>() != NULL) cout &lt;&lt; <span class="stringliteral">"row upper bound = "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#f2264e765343f693b58ea744ac6785e1" title="Get constraint upper bounds.">getConstraintUpperBounds</a>()[i] &lt;&lt;  endl; 
<a name="l00786"></a>00786                 }
<a name="l00787"></a>00787         }
<a name="l00788"></a>00788         
<a name="l00789"></a>00789         <span class="comment">// print out linear constraint data</span>
<a name="l00790"></a>00790         cout &lt;&lt; endl;
<a name="l00791"></a>00791         cout &lt;&lt; <span class="stringliteral">"number of nonzeros =  "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#6e1f2397fae7a000e9a980105addb524" title="Get number of specified (usually nonzero) linear constraint coefficient values.">getLinearConstraintCoefficientNumber</a>() &lt;&lt; endl;
<a name="l00792"></a>00792         <span class="keywordflow">for</span>(i = 0; i &lt;= <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#b8f6b8c1370e29b7fb78d833e7894902" title="Get variable number.">getVariableNumber</a>(); i++){
<a name="l00793"></a>00793                 cout &lt;&lt; <span class="stringliteral">"Start Value =  "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#7f7d176c7824485ede3ab9677622b494" title="Get linear constraint coefficients in column major.">getLinearConstraintCoefficientsInColumnMajor</a>()-&gt;<a class="code" href="class_sparse_matrix.html#411fe5458337ef7b12702d3854185114" title="starts holds an integer array of start elements in coefMatrix (AMatrix), which points...">starts</a>[ i] &lt;&lt; endl;
<a name="l00794"></a>00794         }
<a name="l00795"></a>00795         cout &lt;&lt; endl;
<a name="l00796"></a>00796         <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#6e1f2397fae7a000e9a980105addb524" title="Get number of specified (usually nonzero) linear constraint coefficient values.">getLinearConstraintCoefficientNumber</a>(); i++){
<a name="l00797"></a>00797                 cout &lt;&lt; <span class="stringliteral">"Index Value =  "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#7f7d176c7824485ede3ab9677622b494" title="Get linear constraint coefficients in column major.">getLinearConstraintCoefficientsInColumnMajor</a>()-&gt;<a class="code" href="class_sparse_matrix.html#1bff0b9e6baf3c1e6ef67125b43a9929" title="indexes holds an integer array of rowIdx (or colIdx) elements in coefMatrix (AMatrix)...">indexes</a>[i] &lt;&lt; endl;
<a name="l00798"></a>00798                 cout &lt;&lt; <span class="stringliteral">"Nonzero Value =  "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#7f7d176c7824485ede3ab9677622b494" title="Get linear constraint coefficients in column major.">getLinearConstraintCoefficientsInColumnMajor</a>()-&gt;<a class="code" href="class_sparse_matrix.html#5116e5f2dfaf8215745b682629a2c2c5" title="values holds a double array of value elements in coefMatrix (AMatrix), which contains...">values</a>[i] &lt;&lt; endl;
<a name="l00799"></a>00799         }
<a name="l00800"></a>00800 
<a name="l00801"></a>00801         <span class="comment">// print out quadratic data</span>
<a name="l00802"></a>00802         cout &lt;&lt; <span class="stringliteral">"number of qterms =  "</span> &lt;&lt;  <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#13a9091bcc5cf680d8c2ccba20e0974f" title="Get the number of specified (usually nonzero) qTerms in the quadratic coefficients...">getNumberOfQuadraticTerms</a>() &lt;&lt; endl;
<a name="l00803"></a>00803         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt;  <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#13a9091bcc5cf680d8c2ccba20e0974f" title="Get the number of specified (usually nonzero) qTerms in the quadratic coefficients...">getNumberOfQuadraticTerms</a>(); i++){
<a name="l00804"></a>00804                 cout &lt;&lt; <span class="stringliteral">"Row Index = "</span> &lt;&lt;  <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#ad86d14de0dccfe947a6f4ed61ab6cea" title="Get all the quadratic terms in the instance.">getQuadraticTerms</a>()-&gt;<a class="code" href="class_quadratic_terms.html#cdd9ae9ce282b8c2df8be009ea3ba3f4" title="rowIndexes holds an integer array of row indexes of all the quadratic terms.">rowIndexes</a>[i] &lt;&lt; endl;
<a name="l00805"></a>00805                 cout &lt;&lt; <span class="stringliteral">"Var Index 1 = "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#ad86d14de0dccfe947a6f4ed61ab6cea" title="Get all the quadratic terms in the instance.">getQuadraticTerms</a>()-&gt;<a class="code" href="class_quadratic_terms.html#e62d54f1adaccbe8045f73c1227575c8" title="varOneIndexes holds an integer array of the first varialbe indexes of all the quadratic...">varOneIndexes</a>[ i] &lt;&lt; endl;
<a name="l00806"></a>00806                 cout &lt;&lt; <span class="stringliteral">"Var Index 2 = "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#ad86d14de0dccfe947a6f4ed61ab6cea" title="Get all the quadratic terms in the instance.">getQuadraticTerms</a>()-&gt;<a class="code" href="class_quadratic_terms.html#a93511e108ec00f42b55c95a02bab229" title="varTwoIndexes holds an integer array of the second varialbe indexes of all the quadratic...">varTwoIndexes</a>[ i] &lt;&lt; endl;
<a name="l00807"></a>00807                 cout &lt;&lt; <span class="stringliteral">"Coefficient = "</span> &lt;&lt; <a class="code" href="class_default_solver.html#c29d66f84d56a63168c836321a065383" title="osinstance holds the problem instance in-memory as an OSInstance object">osinstance</a>-&gt;<a class="code" href="class_o_s_instance.html#ad86d14de0dccfe947a6f4ed61ab6cea" title="Get all the quadratic terms in the instance.">getQuadraticTerms</a>()-&gt;<a class="code" href="class_quadratic_terms.html#ce88785c170abd36cf98fb2851763381" title="coefficients holds a double array all the quadratic term coefficients.">coefficients</a>[ i] &lt;&lt; endl;
<a name="l00808"></a>00808         }
<a name="l00809"></a>00809 } <span class="comment">// end dataEchoCheck</span>
<a name="l00810"></a>00810 
<a name="l00811"></a>00811 
<a name="l00812"></a>00812 NlpProblemDef::~NlpProblemDef (<span class="keywordtype">void</span>)
<a name="l00813"></a>00813 {
<a name="l00814"></a>00814     <span class="comment">//---- DO NOTHING.</span>
<a name="l00815"></a>00815    <span class="comment">//return;</span>
<a name="l00816"></a>00816    }
<a name="l00817"></a>00817 
<a name="l00818"></a>00818                                
<a name="l00819"></a>00819 
<a name="l00820"></a>00820 
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Mon Oct 8 01:12:55 2007 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
